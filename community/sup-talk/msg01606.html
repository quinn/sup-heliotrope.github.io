<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] Can't search without crashing -->
<!--X-From-R13: Egrir Ubyqzna <ftbyqznaNgbjre&#45;erfrnepu.pbz> -->
<!--X-Date: Mon, 26 Oct 2009 16:30:32 &#45;0700 (PDT) -->
<!--X-Message-Id: 1256599752&#45;sup&#45;9794@sgoldmanlinux.tower&#45;research.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1256588053&#45;sup&#45;8922@sgoldmanlinux.tower&#45;research.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] Can't search without crashing</title>
<link rev="made" href="mailto:sgoldman@tower-research.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01653.html">Date Prev</a>][<a href="msg01700.html">Date Next</a>][<a href="msg01653.html">Thread Prev</a>][<a href="msg01700.html">Thread Next</a>][<a href="maillist.html#01606">Date Index</a>][<a href="threads.html#01606">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] Can't search without crashing</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-talk] Can't search without crashing</li>
<li><em>From</em>: Steve Goldman &lt;<a href="mailto:sgoldman%40tower-research.com">sgoldman@tower-research.com</a>&gt;</li>
<li><em>Date</em>: Mon, 26 Oct 2009 19:30:20 -0400</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg01653.html">1256588053-sup-8922@sgoldmanlinux.tower-research.com</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg01653.html">1256588053-sup-8922@sgoldmanlinux.tower-research.com</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/0.7</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
It's not every time.

Here's my theory: my mail sits on a server across a network.  When I
can access that data *quickly*, sup doesn't crash.  When the network
(or file system or whatever) takes longer, sup crashes.

Can anyone back that up?

Thanks.


Excerpts from Steve Goldman's message of Mon Oct 26 16:15:04 -0400 2009:
&gt; 
&gt; Wow, I guess I haven't tried to search in a while... I can't search
&gt; for *anything* without it crashing hard.  Every time.  I'm on master.
&gt; 
&gt; Anyone??
&gt; 
&gt; 
&gt; --- RuntimeError from thread: load threads for thread-index-mode
&gt; invalid source 4
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/ferret_index.rb:260:in
&gt; `build_message'
&gt; /apps/home/sgoldman/lib/ruby/1.8/monitor.rb:242:in `synchronize'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/ferret_index.rb:256:in
&gt; `build_message'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/ferret_index.rb:163:in
&gt; `each_id_by_date'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/thread.rb:332:in `call'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/thread.rb:332:in
&gt; `load_n_threads'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/ferret_index.rb:163:in
&gt; `each_id_by_date'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/ferret_index.rb:162:in `each'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/ferret_index.rb:162:in
&gt; `each_id_by_date'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/thread.rb:328:in
&gt; `load_n_threads'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/thread-index-mode.rb:625:
&gt; in `__unprotected_load_n_threads'
&gt; (eval):12:in `load_n_threads'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/thread-index-mode.rb:609:
&gt; in `load_n_threads_background'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup.rb:77:in `reporting_thread'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup.rb:75:in `initialize'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup.rb:75:in `new'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup.rb:75:in `reporting_thread'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/thread-index-mode.rb:608:
&gt; in `load_n_threads_background'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/thread-index-mode.rb:679:
&gt; in `__unprotected_load_threads'
&gt; (eval):12:in `load_threads'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/thread-index-mode.rb:81:i
&gt; n `initialize'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/line-cursor-mode.rb:22:in
&gt;  `call'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/line-cursor-mode.rb:22:in
&gt;  `initialize'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/line-cursor-mode.rb:22:in
&gt;  `each'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/line-cursor-mode.rb:22:in
&gt;  `initialize'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/line-cursor-mode.rb:19:in
&gt;  `new'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/line-cursor-mode.rb:19:in
&gt;  `initialize'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/thread-index-mode.rb:54:i
&gt; n `initialize'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/search-results-mode.rb:6:
&gt; in `initialize'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/search-results-mode.rb:30
&gt; :in `new'
&gt; /apps/infrafs1/sgoldman/sup-src/mainline/lib/sup/modes/search-results-mode.rb:30
&gt; :in `spawn_from_query'
&gt; bin/sup:275
&gt; -- 
&gt; 
&gt; Steve Goldman
&gt; sgoldman@tower-research.com
&gt; 
&gt; T: 212.219.6014
&gt; F: 212.219.6007
&gt; 
&gt; Tower Research Capital, LLC
&gt; 377 Broadway, 11th Fl.
&gt; New York, NY 10013
-- 

Steve Goldman
sgoldman@tower-research.com

T: 212.219.6014
F: 212.219.6007

Tower Research Capital, LLC
377 Broadway, 11th Fl.
New York, NY 10013
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01653" href="msg01653.html">[sup-talk] Can't search without crashing</a></strong>
<ul><li><em>From:</em> Steve Goldman &lt;sgoldman@tower-research.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01653.html">[sup-talk] Can't search without crashing</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01700.html">Re: [sup-talk] Can't search without crashing</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01653.html">[sup-talk] Can't search without crashing</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01700.html">Re: [sup-talk] Can't search without crashing</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01606"><strong>Date</strong></a></li>
<li><a href="threads.html#01606"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
