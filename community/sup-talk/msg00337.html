<!-- MHonArc v2.6.18 -->
<!--X-Subject: [sup&#45;talk] crash when searching -->
<!--X-From-R13: Buvyvcc <ubyyhaqreNyninovg.pbz> -->
<!--X-Date: Thu, 24 Nov 2011 16:42:24 &#45;0800 (PST) -->
<!--X-Message-Id: 1322176122&#45;sup&#45;4869@eris -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[sup-talk] crash when searching</title>
<link rev="made" href="mailto:hollunder@lavabit.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00242.html">Date Prev</a>][<a href="msg00093.html">Date Next</a>][<a href="msg00242.html">Thread Prev</a>][<a href="msg00093.html">Thread Next</a>][<a href="maillist.html#00337">Date Index</a>][<a href="threads.html#00337">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[sup-talk] crash when searching</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: [sup-talk] crash when searching</li>
<li><em>From</em>: Philipp &lt;<a href="mailto:hollunder%40lavabit.com">hollunder@lavabit.com</a>&gt;</li>
<li><em>Date</em>: Fri, 25 Nov 2011 00:13:05 +0100</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a>; domainkeys=hardfail (test mode) header.From=<a href="mailto:hollunder%40lavabit.com">hollunder@lavabit.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; q=dns; c=nofws; s=lavabit; d=lavabit.com;	b=1is8GIi8ju+C5NBN2yIaw2lXlt+ioV2Jr043Gtk9iQr0og5CVyb8JZRJ7RD5qAxG+5Slw3ljLs1Kg9wawFeMTrbOF0HRjcjJ0/6VnYnwibPV951aPqF+7KHwHc1diP7Kd1doJ9TprSpuPTJKiHJTSP4TapGwjB6NmQMiNA9M86o=;	h=Content-Type:From:To:Subject:Date:Message-Id:User-Agent:Content-Transfer-Encoding;</li>
<li><em>Domainkey-status</em>: bad (test mode)</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/0.12.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi there again.  I do get a crash when searching for particular terms.
At the moment I have one search term that crashes sup reliably. The
console output is attached, I believe the notable part is &quot;invalid
source 3&quot;.  I removed one or two email accounts relatively recently
because they are defunct now, could it be that messages from those
accounts are still indexed, match the search term and sup crashes when
trying to retrieve those messages? If that or something else is the
problem, how can I fix it?

Regards,
Philipp

$ sup
[2011-11-25 00:06:09 +0100] ERROR: oh crap, an exception
----------------------------------------------------------------
I'm very sorry. It seems that an error occurred in Sup. Please
accept my sincere apologies. Please submit the contents of
/home/murks/.sup/exception-log.txt and a brief report of the
circumstances to <a  rel="nofollow" href="http://masanjin.net/sup-bugs/">http://masanjin.net/sup-bugs/</a> so that I might
address this problem. Thank you!

Sincerely,
William
----------------------------------------------------------------
--- RuntimeError from thread: load threads for thread-index-mode
invalid source 3
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/index.rb:201:in `block in build_message'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/index.rb:199:in `map'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/index.rb:199:in `build_message'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/index.rb:151:in `block (2 levels) in each_id_by_date'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/thread.rb:338:in `call'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/thread.rb:338:in `block in load_n_threads'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/index.rb:151:in `block in each_id_by_date'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/index.rb:246:in `block in each_id'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/index.rb:246:in `each'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/index.rb:246:in `each_id'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/index.rb:151:in `each_id_by_date'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/thread.rb:334:in `load_n_threads'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/modes/thread-index-mode.rb:640:in `load_n_threads'
(eval):12:in `load_n_threads'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/modes/thread-index-mode.rb:624:in `block in load_n_threads_background'
/usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup.rb:78:in `block in reporting_thread'

_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00242.html">[sup-talk] Crash when sending email</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00093.html">[sup-talk] crash in contact list</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00242.html">[sup-talk] Crash when sending email</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00093.html">[sup-talk] crash in contact list</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00337"><strong>Date</strong></a></li>
<li><a href="threads.html#00337"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
