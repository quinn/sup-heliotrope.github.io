<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] Arch Linux Sup Package (Ruby 1.9.1 + Sup 0.9) -->
<!--X-From-R13: Oaqerv Fubec <tnebguNtznvy.pbz> -->
<!--X-Date: Wed, 28 Oct 2009 17:32:14 &#45;0700 (PDT) -->
<!--X-Message-Id: 80055d7c0910281732v60908755kd5b43464aaac30ce@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 80055d7c0910180805v5da8a9a0o57851093ee17813e@mail.gmail.com -->
<!--X-Reference: 20091029000759.GA5109@gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] Arch Linux Sup Package (Ruby 1.9.1 + Sup 0.9)</title>
<link rev="made" href="mailto:garoth@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01696.html">Date Prev</a>][<a href="msg01506.html">Date Next</a>][<a href="msg01564.html">Thread Prev</a>][<a href="msg01775.html">Thread Next</a>][<a href="maillist.html#01528">Date Index</a>][<a href="threads.html#01528">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] Arch Linux Sup Package (Ruby 1.9.1 + Sup 0.9)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>Subject</em>: Re: [sup-talk] Arch Linux Sup Package (Ruby 1.9.1 + Sup 0.9)</li>
<li><em>From</em>: Andrei Thorp &lt;<a href="mailto:garoth%40gmail.com">garoth@gmail.com</a>&gt;</li>
<li><em>Date</em>: Wed, 28 Oct 2009 20:32:00 -0400</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a>; dkim=neutral (body hash did not verify) header.i=@gmail.com</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:received:in-reply-to:references	:date:message-id:subject:from:to:content-type	:content-transfer-encoding;	bh=17+q/WIzUpOCqR3qkUpKUb+3Q3zE55fpUD/TQKVD4A0=;	b=YkktBFlDambfRJpZiTf/qzzNmL/Q566X0aNITld7vO3p+q5Faqquv1dyhgnzJuQL7D	+nr5Rwrcqf8pkQFHrCml/0Safl+HBw1k84b67+SvS0OCushlT6TftuKRknuJZlltajBS	X8nu2rYWmhm/14ycQAhjkq8d4A2gWXQkoIHJk=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;	h=mime-version:in-reply-to:references:date:message-id:subject:from:to	:content-type:content-transfer-encoding;	b=gMZhDY+oBteab8byhddy66Jkq72ZZblCm08bl1SsJ5CRjLOnrYB6a3lGpxD7cHqxF4	lmqk9jN3xK0DCKpiLee9YSnuR3QTYmotyFzkgN9NBcO9rcLKEQEu69htvhGpMgsgffuy	RKlITNJsrinf4fBoIO1Mdpck3orl0sboonWy0=</li>
<li><em>In-reply-to</em>: &lt;20091029000759.GA5109@gmail.com&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg01753.html">80055d7c0910180805v5da8a9a0o57851093ee17813e@mail.gmail.com</a>&gt;	&lt;20091029000759.GA5109@gmail.com&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Wed, Oct 28, 2009 at 8:07 PM, Sean Escriva &lt;sean.escriva@gmail.com&gt; wrote:
&gt;
&gt; On Sun, Oct 18, 2009 at 11:05:57AM -0400, Andrei Thorp wrote:
&gt;&gt; Hello. Remember me? ;)
&gt;&gt;
&gt;&gt; Anyway, I've rolled the 0.9 package for Arch Linux in the
&gt;&gt; AUR (community repos). It works, but:
&gt;&gt; &#xA0;- Ruby 1.9.1 has pretty screwed up dependencies for Sup. Ncurses and ferret in
&gt;&gt; &#xA0; &#xA0;particular were broken (at least in Arch.)
&gt;&gt; &#xA0;- The package is a big ol' pile of hacks.
&gt;&gt; &#xA0;- Ferret index is disabled (sorry for removing it early, but Ruby 1.9.1 is the
&gt;&gt; &#xA0; &#xA0;reality for us in Arch.)
&gt;&gt; &#xA0;- I've applyed Lloyd's patch for fixing the UTF-8 check.
&gt;&gt; &#xA0;- There seem to be a few small bugs.
&gt;&gt;
&gt;&gt; Anyway, I'd appreciate some suggestions. The package is viewable here:
&gt;&gt; <a  rel="nofollow" href="http://aur.archlinux.org/packages.php?ID=26439">http://aur.archlinux.org/packages.php?ID=26439</a>
&gt;
&gt; I gave the sup package a try today. I had previously put all the new
&gt; ruby stuff on Hold. It didn't work for me. I post my output on the
&gt; aur page.
&gt;
&gt; Any tips are appreciated, thanks.

Trace on AUR:

&gt;    tried this today and everything installs fine, trying to run sup gives:
&gt;
&gt;    /usr/lib/ruby/gems/1.9.1/gems/lockfile-1.4.3/lib/lockfile.rb:475:in `load_lock_id': undefined method `each' for #&lt;String:0x00000002f544d8&gt; (NoMethodError)
&gt;    from /usr/lib/ruby/gems/1.9.1/gems/sup-0.9/lib/sup/util.rb:26:in `lockinfo_on_disk'
&gt;    from /usr/lib/ruby/gems/1.9.1/gems/sup-0.9/lib/sup/index.rb:40:in `rescue in lock'
&gt;    from /usr/lib/ruby/gems/1.9.1/gems/sup-0.9/lib/sup/index.rb:37:in `lock'
&gt;    from /usr/lib/ruby/gems/1.9.1/gems/sup-0.9/lib/sup/util.rb:520:in `method_missing'
&gt;    from /usr/lib/ruby/gems/1.9.1/gems/sup-0.9/lib/sup/interactive-lock.rb:26:in `lock_interactively'
&gt;    from /usr/lib/ruby/gems/1.9.1/gems/sup-0.9/bin/sup-sync:115:in `&lt;top (required)&gt;'
&gt;    from /usr/bin/supbin/sup-sync:19:in `load'
&gt;    from /usr/bin/supbin/sup-sync:19:in `&lt;main&gt;'

Delete comment

Hmm... works for me. Could you please give me a few more details:
- 64 bit or 32 bit? Any other system specs worth noting?
- This happens immediately on run or do you need to perform some action?
- Please try running sup while in ~. I've found some bugs occasionally
if you're in some strange directory.
- While building my package, does it say that it is rolling lockfile
for you? It seems your lockfile's a bit screwy rather than Sup. If
lockfile already exists on the system, my package might not roll a new
one.
- That said, try removing the lockfile gem and installing a fresh one
using the &quot;gem&quot; utility.

The error up there doesn't really make sense. Each not defined on
buffer strings? Seems unlikely. You could also try running the
commands in my build step manually and install yourself the sup
dependencies that I list + the dependencies in the Arch repos and see
if sup does something then. This would be more serious debugging.

Anyway, for now, I can't reproduce the error on my system, and I'm
fully up to date with the Arch repos. I don't really know what to say.

Did you remember to switch your indexes to Xapian and so on?

Good luck,

-Andrei Thorp
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="01775" href="msg01775.html">Re: [sup-talk] Arch Linux Sup Package (Ruby 1.9.1 + Sup 0.9)</a></strong>
<ul><li><em>From:</em> William Morgan &lt;wmorgan-sup@masanjin.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01753" href="msg01753.html">[sup-talk] Arch Linux Sup Package (Ruby 1.9.1 + Sup 0.9)</a></strong>
<ul><li><em>From:</em> Andrei Thorp &lt;garoth@gmail.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01696.html">[sup-talk] [PATCH] change opening attachements on darwin to use open instead of run-mailcap</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01506.html">Re: [sup-talk] [PATCH] minor nits in exception apology message</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01564.html">Re: [sup-talk] Arch Linux Sup Package (Ruby 1.9.1 + Sup 0.9)</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01775.html">Re: [sup-talk] Arch Linux Sup Package (Ruby 1.9.1 + Sup 0.9)</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01528"><strong>Date</strong></a></li>
<li><a href="threads.html#01528"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
