<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] trying sup again, couple of crashes, etc -->
<!--X-From-R13: Freb Fvyhf <grebNgvyhf.arg> -->
<!--X-Date: Thu, 14 Jan 2010 16:03:12 &#45;0800 (PST) -->
<!--X-Message-Id: 1263511303&#45;sup&#45;1489@tilus.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4B4EB5A9.8050001@exys.org -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] trying sup again, couple of crashes, etc</title>
<link rev="made" href="mailto:tero@tilus.net">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01421.html">Date Prev</a>][<a href="msg01118.html">Date Next</a>][<a href="msg01304.html">Thread Prev</a>][<a href="msg01441.html">Thread Next</a>][<a href="maillist.html#01209">Date Index</a>][<a href="threads.html#01209">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] trying sup again, couple of crashes, etc</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-talk] trying sup again, couple of crashes, etc</li>
<li><em>From</em>: Tero Tilus &lt;<a href="mailto:tero%40tilus.net">tero@tilus.net</a>&gt;</li>
<li><em>Date</em>: Fri, 15 Jan 2010 02:03:01 +0200</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg01304.html">4B4EB5A9.8050001@exys.org</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg01304.html">4B4EB5A9.8050001@exys.org</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/git</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Arvid Picciani, 2010-01-14 08:11:
&gt; So heres is how my sup experience has been so far: awesome idea, but
&gt; unusable.

I see sup's offered you a rough ride... :(

Is this with ruby 1.9?  If so, have you tried with 1.8.x?

&gt; sup-add nukes itself:
&gt; 
&gt; Error: the index is locked by another process! User '' on
&gt; host '' is running  with pid .
&gt; The process was alive as of at least 14 seconds ago.
&gt; 
&gt; Should I ask that process to kill itself (y/n)? y
&gt; Ok, trying to kill process...
&gt; Terminated
&gt; aep@barf: ~/kram/mainline

Looks like it somehow failed to write or read the contents of
lockfile.  When pid is nil, lock resolver ends up calling
Process.kill('TERM', 0) killing the process itself.  Can you
reproduce?

&gt; sup then takes around 20 seconds per message (100% cpu usage)

Thats insane.  Could you try that again with ruby-prof and post the
profile so we can figure out what gives?

  $ sudo gem install ruby-prof
  $ ruby-prof -p graph_html -f sup-profile.html sup

-- 
Tero Tilus ## 050 3635 235 ## <a  rel="nofollow" href="http://tero.tilus.net/">http://tero.tilus.net/</a>
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01304" href="msg01304.html">[sup-talk] trying sup again, couple of crashes, etc</a></strong>
<ul><li><em>From:</em> Arvid Picciani &lt;aep@exys.org&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01421.html">Re: [sup-talk] Questions about offlineimap+msmtp+maildir+gmail	syncing</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01118.html">[sup-talk] reply-from.rb troubles</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01304.html">[sup-talk] trying sup again, couple of crashes, etc</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01441.html">Re: [sup-talk] trying sup again, couple of crashes, etc</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01209"><strong>Date</strong></a></li>
<li><a href="threads.html#01209"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
