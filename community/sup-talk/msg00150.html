<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] Tuning Ruby's GC params for faster `sup` -->
<!--X-From-R13: Wpb Rbbearxnzc <fhcNmrii.ay> -->
<!--X-Date: Sat, 21 Jun 2014 07:14:37 &#45;0700 (PDT) -->
<!--X-Message-Id: 1403344734&#45;sup&#45;985@pruts.nl -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CANsdhjcovLg&#45;C7aM7ZMYh83h5pXVmXMGNRZBJkb5OboWz8Po4g@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] Tuning Ruby's GC params for faster `sup`</title>
<link rev="made" href="mailto:sup@zevv.nl">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00179.html">Date Prev</a>][<a href="msg00303.html">Date Next</a>][<a href="msg00179.html">Thread Prev</a>][<a href="msg00303.html">Thread Next</a>][<a href="maillist.html#00150">Date Index</a>][<a href="threads.html#00150">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] Tuning Ruby's GC params for faster `sup`</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-talk] Tuning Ruby's GC params for faster `sup`</li>
<li><em>From</em>: Ico Doornekamp &lt;<a href="mailto:sup%40zevv.nl">sup@zevv.nl</a>&gt;</li>
<li><em>Date</em>: Sat, 21 Jun 2014 11:59:08 +0200</li>
<li><em>Authentication-results</em>: mx.google.com;       spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 50.56.192.79 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg00179.html">CANsdhjcovLg-C7aM7ZMYh83h5pXVmXMGNRZBJkb5OboWz8Po4g@mail.gmail.com</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00179.html">CANsdhjcovLg-C7aM7ZMYh83h5pXVmXMGNRZBJkb5OboWz8Po4g@mail.gmail.com</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/0.16.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi,

* On 2014-06-13 02:04:11 +0200, Aravind Narayanan wrote:
 
&gt; Hey everyone,
&gt; 
&gt; I'm sharing this to see if any else does this, and whether or not it makes
&gt; sense to include in the defaults.
&gt; 
&gt; `sup` was kind of slow for me, and sometimes took a few seconds to open up
&gt; an (albeit large) email thread. I ran `perftools.rb` on it to see what was
&gt; taking up so much time, and was surprised to find that ~ 60% of wallclock
&gt; time was spent in GC.
&gt; 
&gt; So, I tuned Ruby's GC to not run so often, resulting in GC now taking only
&gt; 13% of wall clock time. Anecdotally, I also noticed that threads loaded
&gt; much much faster. The params I set were
&gt; <a  rel="nofollow" href="https://gist.github.com/rvnd/756d6a5e82d1bba9fbb9">https://gist.github.com/rvnd/756d6a5e82d1bba9fbb9</a>.

I can confirm this makes a *huge* difference. I'm running sup on a
pretty big machine, but at times it's so creeping slow I'm considering
moving back to mutt.

Using the parameters you suggested speeds up things considerably,
loading big threads is now fast enough to be usable without getting
annoyed.                                                               

Thank your *very* much for pointing this out. I hope Sup will pick this
up and integrate it in the default application in some way.

Ico

-- 
:wq
^X^Cy^K^X^C^C^C^C
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00303" href="msg00303.html">Re: [sup-talk] Tuning Ruby's GC params for faster `sup`</a></strong>
<ul><li><em>From:</em> Gaute Hope &lt;eg@gaute.vetsj.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00179" href="msg00179.html">[sup-talk] Tuning Ruby's GC params for faster `sup`</a></strong>
<ul><li><em>From:</em> Aravind Narayanan &lt;a.cyberian@gmail.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00179.html">[sup-talk] Tuning Ruby's GC params for faster `sup`</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00303.html">Re: [sup-talk] Tuning Ruby's GC params for faster `sup`</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00179.html">[sup-talk] Tuning Ruby's GC params for faster `sup`</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00303.html">Re: [sup-talk] Tuning Ruby's GC params for faster `sup`</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00150"><strong>Date</strong></a></li>
<li><a href="threads.html#00150"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
