<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] message missing in source, sup v0.12.1,	sup&#45;sync no longer has &#45;&#45;changed? -->
<!--X-From-R13: Dvpu Znar <eynarNpyho.pp.pzh.rqh> -->
<!--X-Date: Sun, 13 Feb 2011 10:09:22 &#45;0800 (PST) -->
<!--X-Message-Id: 1297619275&#45;sup&#45;3028@zyrg.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 4D522CBF.4020203@gmx.de -->
<!--X-Reference: 1297452493&#45;sup&#45;3136@spade.spade&#45;domain -->
<!--X-Reference: 1297584795&#45;sup&#45;2477@localhost -->
<!--X-Reference: 1297605296&#45;sup&#45;2535@niflheimr -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] message missing in source, sup v0.12.1,	sup-sync no longer has --changed?</title>
<link rev="made" href="mailto:rlane@club.cc.cmu.edu">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00707.html">Date Prev</a>][<a href="msg00478.html">Date Next</a>][<a href="msg00610.html">Thread Prev</a>][<a href="msg00618.html">Thread Next</a>][<a href="maillist.html#00720">Date Index</a>][<a href="threads.html#00720">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] message missing in source, sup v0.12.1,	sup-sync no longer has --changed?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Moritz Wilhelmy &lt;<a href="mailto:moritz%2Bsup%40wzff.de">moritz+sup@wzff.de</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-talk] message missing in source, sup v0.12.1,	sup-sync no longer has --changed?</li>
<li><em>From</em>: Rich Lane &lt;<a href="mailto:rlane%40club.cc.cmu.edu">rlane@club.cc.cmu.edu</a>&gt;</li>
<li><em>Date</em>: Sun, 13 Feb 2011 13:03:11 -0500</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>Cc</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>In-reply-to</em>: &lt;1297605296-sup-2535@niflheimr&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00450.html">4D522CBF.4020203@gmx.de</a>&gt; &lt;1297452493-sup-3136@spade.spade-domain&gt;	&lt;1297584795-sup-2477@localhost&gt; &lt;1297605296-sup-2535@niflheimr&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/git</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Excerpts from Moritz Wilhelmy's message of 2011-02-13 08:59:12 -0500:
&gt; Excerpts from John Wyzer's message of Sun Feb 13 09:20:13 +0100 2011:
&gt; &gt; So the question remain - if messags are missing from one Maildir, is my only
&gt; &gt; option to dump, reindex all and restore?  That would be painful given the
&gt; &gt; number of messages...
&gt; 
&gt; Not only painful and annoying but also very stupid. Why would someone want to
&gt; get rid of sup-sync --changed? It happens all the time that Maildirs are
&gt; externally changed, there *should* be some easy way to sync these changes back,
&gt; at least that's my insignificant opinion. I don't completely understand the
&gt; motivation for getting rid of this feature in the first place. Can someone
&gt; please explain?

sup-sync --changed was removed because it is no longer necessary. The
maildir code can now gracefully deal with messages being moved and
deleted. If all locations for a message are deleted it will keep the
index entry (including the snippet) but display an error (inline, not
disrupting the rest of the UI) if you try to view the message.

Is this the behavior you're seeing, or is there a bug in the
implementation?

Sascha posted a patch that deletes index entries with no locations after
a sync. I'd rather see that as a extra sup-sync --purge option, and if
you don't want deleted messages to appear in the UI we should just check
for that before adding them to the ThreadSet.
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00450" href="msg00450.html">[sup-talk] message missing in source, sup v0.12.1,	sup-sync no longer has --changed?</a></strong>
<ul><li><em>From:</em> John Wyzer &lt;john.wyzer@gmx.de&gt;</li></ul></li>
<li><strong><a name="00690" href="msg00690.html">Re: [sup-talk] message missing in source, sup v0.12.1,	sup-sync no longer has --changed?</a></strong>
<ul><li><em>From:</em> John Wyzer &lt;john.wyzer@gmx.de&gt;</li></ul></li>
<li><strong><a name="00610" href="msg00610.html">Re: [sup-talk] message missing in source, sup v0.12.1,	sup-sync no longer has --changed?</a></strong>
<ul><li><em>From:</em> Moritz Wilhelmy &lt;moritz+sup@wzff.de&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00707.html">Re: [sup-talk] best method for before-add-message.rb</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00478.html">Re: [sup-talk] best method for before-add-message.rb</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00610.html">Re: [sup-talk] message missing in source, sup v0.12.1,	sup-sync no longer has --changed?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00618.html">Re: [sup-talk] message missing in source, sup v0.12.1,	sup-sync no longer has --changed?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00720"><strong>Date</strong></a></li>
<li><a href="threads.html#00720"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
