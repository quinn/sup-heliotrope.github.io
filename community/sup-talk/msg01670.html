<!-- MHonArc v2.6.18 -->
<!--X-Subject: [sup&#45;talk] Best practice for customizing keymaps? -->
<!--X-From-R13: Rnivq Oqnzf <qnirnqnzfNtznvy.pbz> -->
<!--X-Date: Mon, 19 Oct 2009 12:15:17 &#45;0700 (PDT) -->
<!--X-Message-Id: 87af9a490910191146o6b34b81ev4723521d17924ae4@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[sup-talk] Best practice for customizing keymaps?</title>
<link rev="made" href="mailto:daveadams@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01752.html">Date Prev</a>][<a href="msg01635.html">Date Next</a>][<a href="msg00148.html">Thread Prev</a>][<a href="msg01610.html">Thread Next</a>][<a href="maillist.html#01670">Date Index</a>][<a href="threads.html#01670">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[sup-talk] Best practice for customizing keymaps?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: [sup-talk] Best practice for customizing keymaps?</li>
<li><em>From</em>: David Adams &lt;<a href="mailto:daveadams%40gmail.com">daveadams@gmail.com</a>&gt;</li>
<li><em>Date</em>: Mon, 19 Oct 2009 14:46:41 -0400</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a>; dkim=neutral (body hash did not verify) header.i=@gmail.com</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:received:date:message-id:subject	:from:to:content-type;	bh=1ooDmHr/f3IJ4r1svhsVM2lZEnTins3YEyUQv1mdn2w=;	b=k0nhJIGJlr9Y34HrtX1qJ40g0cMep6MyYjpadd3cMS0g/tM7D1hRLYTf90XMThX8qd	YpVCgzFRpLnJF4whXzVPGlDKEbdJIuDNBAn1KFQAr1zSVn6vGr+aZhOQcWHOLvpD7A67	brTc4Kc3ECDkBxl9SwoDtbBgTvw0fWbzlGroY=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;	h=mime-version:date:message-id:subject:from:to:content-type;	b=nizJYa8lD2lwu5ouTMBqRj73S2FoVQQhxsF0al0BLYRpgMMhnNw1Qm+VYVCVmNXkzr	Z8amO23QYkG5s/H6tpCadJIFTS0jhUtdS8rb3UmrGPT5Hm47fxPaEL8KdaGomgV2X3eK	kc4pHGw9+rzI6J0KsXz7s5aSBv6GvvpW49AEY=</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hello everyone,
I'd like to make some customizations to the default keymaps for a few
modes, and I was wondering what was the safest way to do so. On the
Hooks wiki page, the entry for startup.rb shows how to add keystrokes,
but based on trying that example out, it appears to work only for
adding new keystrokes, not overriding existing ones.

So after poking around at the code a bit, dropping this code into
startup.rb seems to work to entirely replace a keymap with my
preferences:

class Redwood::Mode
  @@keymaps[Redwood::ThreadViewMode] = Redwood::Keymap.new do |k|
    # key mappings omitted
  end
end

So my questions are: Is this unsafe in any way (other than that new
versions of sup may invalidate the specifics of keymap
implementation)? And is there a better way?

Thanks!

-dave
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01752.html">[sup-talk] [PATCH] detect and set charset on text/* attachments</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01635.html">Re: [sup-talk] Indexing messages without ruby</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00148.html">Re: [sup-talk] [PATCH] detect and set charset on text/* attachments</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01610.html">[sup-talk] Sup crashing upon save changes ($)</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01670"><strong>Date</strong></a></li>
<li><a href="threads.html#01670"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
