<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] 0/0...I made it -->
<!--X-From-R13: Buvyvccr ZrQninyvre <fhccbegNcyrpninyvre.pbz> -->
<!--X-Date: Mon, 14 Feb 2011 11:30:59 &#45;0800 (PST) -->
<!--X-Message-Id: 1297707717&#45;sup&#45;3255@plc.intranet.plecavalier.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1297630080&#45;sup&#45;3488@plc.intranet.plecavalier.com -->
<!--X-Reference: 1297706861&#45;sup&#45;7672@nyx.local -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] 0/0...I made it</title>
<link rev="made" href="mailto:support@plecavalier.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00465.html">Date Prev</a>][<a href="msg00723.html">Date Next</a>][<a href="msg00465.html">Thread Prev</a>][<a href="msg00670.html">Thread Next</a>][<a href="maillist.html#00360">Date Index</a>][<a href="threads.html#00360">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] 0/0...I made it</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: David J. Hamilton &lt;<a href="mailto:groups%40hjdivad.com">groups@hjdivad.com</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-talk] 0/0...I made it</li>
<li><em>From</em>: Philippe LeCavalier &lt;<a href="mailto:support%40plecavalier.com">support@plecavalier.com</a>&gt;</li>
<li><em>Date</em>: Mon, 14 Feb 2011 14:18:38 -0500</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>Cc</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>In-reply-to</em>: &lt;1297706861-sup-7672@nyx.local&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00527.html">1297630080-sup-3488@plc.intranet.plecavalier.com</a>&gt;	&lt;1297706861-sup-7672@nyx.local&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/0.12.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi David.
Excerpts from David J. Hamilton's message of Mon Feb 14 13:11:40 -0500 2011:
&gt; Philippe,
&gt; 
&gt; Excerpts from Philippe LeCavalier's message of Sun Feb 13 12:57:30 -0800 2011:
&gt; &gt; Well, despite not finding a truly efficient method for autolabeling my mail
&gt; &gt; -I'm not worried I won't, I just haven't found it yet- after 30 some days of
&gt; &gt; due deligence my inbox is for now back to 0.
&gt; 
&gt; Have you tried writing a before-add-message hook?  If so, what problems have you
&gt; run in to with your attempts at autolabeling?

Yeah. I've tried a bunch of options[1] -and still am-. Mostly, I don't understand what's going on during the functions and it's making things challenging to say the least.

I really like the idea of matching email addresses using an external file as in the sup-wiki. As I mention in [1] simple operations ie adding/removing a single label works like a charm. But I want a model that will allow me to search in a very granular way. I want to break down my labels.

|client
||companyA
||companyB
||companyC
|||position
|||invoice
|||issues
|||reports

|ff #friends and foe
||wife,friends, family
|||contact
||||persons name I don't like

This way I can search for all 'company' then refine by 'position' 'invoice'...etc. Or go straight to a specific group or people 'position' ie all 'exec' or 'finance'. But in order to do that I need a before-add-message hook that will add multiple labels either in one invocation or multiple ones.

It goes without saying, but I'll state it anyways, my desired model far exceeds my ability as non-programmer. However, I'm a logical and patience individual and I know that if I can find a working example I can 'take it from there'.

At the moment, it seems my biggest problem is labeling an email more than once. I found a few posts/relevant discussions[2,3] regard sup and multiple labels but nothing has lead me down the correct path.

ref:
[1] <a  rel="nofollow" href="http://rubyforge.org/pipermail/sup-talk/2011-February/004504.html">http://rubyforge.org/pipermail/sup-talk/2011-February/004504.html</a>
[2] <a  rel="nofollow" href="https://github.com/jacius/sup-filters/blob/master/filters.example.yaml">https://github.com/jacius/sup-filters/blob/master/filters.example.yaml</a>
[3] <a  rel="nofollow" href="http://www.mail-archive.com/sup-talk@rubyforge.org/msg03361.html">http://www.mail-archive.com/sup-talk@rubyforge.org/msg03361.html</a>
&gt; Here's a snippet of mine:
&gt; 
&gt;   # before-add-message.rb
&gt; 
&gt;   def autolabel message, label 
&gt;     log &quot;Adding label [#{label}] to #{message.id}&quot;
&gt;     message.add_label label
&gt;   end
&gt; 
&gt;   def autolabel_email message, regexes, label
&gt;     regexes = [ regexes ] unless regexes.is_a? Enumerable
&gt;     if message.recipients.any? do |recipient|
&gt;           AccountManager.is_account_email? recipient.email and
&gt;             regexes.any?{ |r| recipient.email =~ r }
&gt;         end
&gt;       autolabel message, label
&gt;     end
&gt; 
&gt;     if    AccountManager.is_account_email? message.from.email and
&gt;           regexes.any?{ |r| message.from.email =~ r }
&gt;         
&gt;       autolabel message, label
&gt;     end
&gt;   end
&gt; 
&gt; 
&gt;   unless message.nil?
&gt;     autolabel_email   message,    /ucdavis.edu$/i,     'ucdavis'
&gt;     # &#x2026; lines similar to above, giving regexes or arrays of regexes and the
&gt;     # desired label.
&gt;   end
&gt; 
-- 
Thanks,
Phil
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00527" href="msg00527.html">[sup-talk] 0/0...I made it</a></strong>
<ul><li><em>From:</em> Philippe LeCavalier &lt;support@plecavalier.com&gt;</li></ul></li>
<li><strong><a name="00465" href="msg00465.html">Re: [sup-talk] 0/0...I made it</a></strong>
<ul><li><em>From:</em> David J. Hamilton &lt;groups@hjdivad.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00465.html">Re: [sup-talk] 0/0...I made it</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00723.html">[sup-talk] sup-tweak-labels broken, and more</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00465.html">Re: [sup-talk] 0/0...I made it</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00670.html">[sup-talk] after-poll.rb variables</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00360"><strong>Date</strong></a></li>
<li><a href="threads.html#00360"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
