<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;devel] [sup&#45;talk] sup: Fix for an UndefinedMethodError -->
<!--X-From-R13: Unhgr Vbcr <rtNtnhgr.irgfw.pbz> -->
<!--X-Date: Sun, 14 Apr 2013 05:06:52 &#45;0700 (PDT) -->
<!--X-Message-Id: 516A9BA0.7040906@gaute.vetsj.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: CAHsqw9sqBv&#45;5zkdKhPcOwzi&#45;qpe250U3ksHAvgwTENJ8EtozFA@mail.gmail.com -->
<!--X-Reference: CAOxvSbfuBUYc7fTS=Ov2gBi6JtCkhmy8YVP3iUXwENnmLdzH3Q@mail.gmail.com -->
<!--X-Reference: 51692285.8000709@gaute.vetsj.com -->
<!--X-Reference: CAHsqw9ue9AqTO4OxVDUzb&#45;3u7GShxZRmjPDNzwJQVtsZi_3icw@mail.gmail.com -->
<!--X-Reference: 51695AF1.2070701@gaute.vetsj.com -->
<!--X-Reference: CAHsqw9v46_d+n=XUeg76zmws+kjtit3SfQ59NZtTxMYrJ8F1Vg@mail.gmail.com -->
<!--X-Reference: 5169925C.1060701@gaute.vetsj.com -->
<!--X-Reference: 516997BD.7010409@gaute.vetsj.com -->
<!--X-Reference: 1365938152&#45;sup&#45;6420@mint -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-devel] [sup-talk] sup: Fix for an UndefinedMethodError</title>
<link rev="made" href="mailto:eg@gaute.vetsj.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00190.html">Date Prev</a>][<a href="msg00154.html">Date Next</a>][<a href="msg00190.html">Thread Prev</a>][<a href="msg00154.html">Thread Next</a>][<a href="maillist.html#00067">Date Index</a>][<a href="threads.html#00067">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-devel] [sup-talk] sup: Fix for an UndefinedMethodError</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Eric Weikl &lt;<a href="mailto:eric.weikl%40gmx.net">eric.weikl@gmx.net</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-devel] [sup-talk] sup: Fix for an UndefinedMethodError</li>
<li><em>From</em>: Gaute Hope &lt;<a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a>&gt;</li>
<li><em>Date</em>: Sun, 14 Apr 2013 14:05:52 +0200</li>
<li><em>Cc</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>In-reply-to</em>: &lt;1365938152-sup-6420@mint&gt;</li>
<li><em>References</em>: &lt;<a href="msg00047.html">CAHsqw9sqBv-5zkdKhPcOwzi-qpe250U3ksHAvgwTENJ8EtozFA@mail.gmail.com</a>&gt; &lt;CAOxvSbfuBUYc7fTS=Ov2gBi6JtCkhmy8YVP3iUXwENnmLdzH3Q@mail.gmail.com&gt; &lt;<a href="msg00243.html">51692285.8000709@gaute.vetsj.com</a>&gt; &lt;<a href="msg00005.html">CAHsqw9ue9AqTO4OxVDUzb-3u7GShxZRmjPDNzwJQVtsZi_3icw@mail.gmail.com</a>&gt; &lt;<a href="msg00041.html">51695AF1.2070701@gaute.vetsj.com</a>&gt; &lt;CAHsqw9v46_d+n=XUeg76zmws+kjtit3SfQ59NZtTxMYrJ8F1Vg@mail.gmail.com&gt; &lt;<a href="msg00117.html">5169925C.1060701@gaute.vetsj.com</a>&gt; &lt;<a href="msg00122.html">516997BD.7010409@gaute.vetsj.com</a>&gt; &lt;1365938152-sup-6420@mint&gt;</li>
<li><em>User-agent</em>: Mozilla/5.0 (X11; Linux x86_64; rv:17.0) Gecko/20130403 Thunderbird/17.0.5</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On 14. april 2013 13:31, Eric Weikl wrote:
&gt; Hi Gaute,
&gt; 
&gt; That sounds like a plan of action :-)
&gt; 
&gt; Excerpts from Gaute Hope's message of 2013-04-13 19:37:01 +0200:
&gt;&gt; - Go for Mail in stead of RMail (index breakage)
&gt; 
&gt; Is this related to getting rid of Iconv for Ruby 2.0.0, or is it a
&gt; separate issue? Otherwise, I would favor lumping it in the same release
&gt; together with IMAP syncback, since both require a migration step by the
&gt; user.

No, RMail and Iconv are separate issues.

Yes, that was my thinking as well - since both config and index need a
migration step. Iconv deprecation should be seamless (syncback as well).

&gt;&gt; - Integrate the IMAP / label sync back stuff (personally this is what I
&gt;&gt;   miss the most)
&gt; 
&gt; I've been using the imap syncback code by Damien Leone from ezyang's
&gt; branch for quite a while now (&gt; 1 year) without any issues. It should be
&gt; fairly easy to cherry-pick the relevant commits into the development
&gt; branch.

Cool. I would really like to see this in main sup, any other objections?
In my view the main arguments are:

- Manipulating IMAP could mess up user mail (potentially new bugs could
mess up)
- Maintaining this functionality requires some long-term (at least
minor) effort
- It modifies the mail store (could be solved with disabled-by-default)
which I think is a big plus for many

I would suggest creating a official branch for this now, if you are
interested I could add you as commiter or owner.

&gt;&gt; - Get rid of all dependencies that are abandoned or deprecated (ncurses
&gt;&gt;   gem..)
&gt; 
&gt; +1 I'd also add deleting all unused code and other stuff (server code,
&gt; website, Redwood protocol stuff, etc.).

Yes, you could put Iconv in this category as well.

&gt;&gt; - Try to do tests on most stuff for different encodings
&gt; 
&gt; I thought about adding some functional tests (through the UI or
&gt; otherwise), since retrofitting unit tests is probably too much of a pain.
&gt; I need to figure out how the parts fit together some more, though.
&gt; Do you think that makes sense?
&gt; 
&gt;&gt; Would be very nice:
&gt;&gt; - Index migration
&gt; 
&gt; We could do the index migration like the imap syncback code does - it
&gt; recognizes that it wasn't done yet and asks you to run a command-line
&gt; tool.

Not entirely sure how things are built up, but migration probably
requires to map ids between Mail and RMail (it's going to be messy).
Matthieu had some insight here, see:
<a  rel="nofollow" href="https://github.com/sup-heliotrope/sup/issues/22">https://github.com/sup-heliotrope/sup/issues/22</a>

&gt;&gt; - Config migration
&gt; 
&gt; How exactly will the config change? Possibly it easy to detect via
&gt; regular expressions or something?

The YAML output from Syck (deprecated and removed) and Psych is
incompatible. So the old config files are not readable by Psych. An
approach could possibly be: install syck as a gem (if it exists), load
the file with Syck, re-write it with Psych. There exists a Psych gem for
1.8 (which could be conditionally loaded).

Also might be worth taking a look at sup inspired stuff; notmuch /
mutt-kz which I don't think provides the same as sup, but are less buggy
atm.

Cheers,
Gaute
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00154" href="msg00154.html">Re: [sup-devel] [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Eric Weikl &lt;eric.weikl@gmx.net&gt;</li></ul></li>
<li><strong><a name="00239" href="msg00239.html">Re: [sup-talk] [sup-devel]  sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Eric Weikl &lt;eric.weikl@gmx.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00047" href="msg00047.html">[sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Jonathan Lassoff &lt;jof@thejof.com&gt;</li></ul></li>
<li><strong><a name="00268" href="msg00268.html">Re: [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Hamish D &lt;dmishd@gmail.com&gt;</li></ul></li>
<li><strong><a name="00243" href="msg00243.html">Re: [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Gaute Hope &lt;eg@gaute.vetsj.com&gt;</li></ul></li>
<li><strong><a name="00005" href="msg00005.html">Re: [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Jonathan Lassoff &lt;jof@thejof.com&gt;</li></ul></li>
<li><strong><a name="00041" href="msg00041.html">Re: [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Gaute Hope &lt;eg@gaute.vetsj.com&gt;</li></ul></li>
<li><strong><a name="00139" href="msg00139.html">Re: [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Jonathan Lassoff &lt;jof@thejof.com&gt;</li></ul></li>
<li><strong><a name="00117" href="msg00117.html">Re: [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Gaute Hope &lt;eg@gaute.vetsj.com&gt;</li></ul></li>
<li><strong><a name="00122" href="msg00122.html">Re: [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Gaute Hope &lt;eg@gaute.vetsj.com&gt;</li></ul></li>
<li><strong><a name="00190" href="msg00190.html">Re: [sup-devel] [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
<ul><li><em>From:</em> Eric Weikl &lt;eric.weikl@gmx.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00190.html">Re: [sup-devel] [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00154.html">Re: [sup-devel] [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00190.html">Re: [sup-devel] [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00154.html">Re: [sup-devel] [sup-talk] sup: Fix for an UndefinedMethodError</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00067"><strong>Date</strong></a></li>
<li><a href="threads.html#00067"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
