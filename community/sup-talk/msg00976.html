<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] xapian load issues -->
<!--X-From-R13: Pra Inygba <ojnygbaNnegfpv.hgbebagb.pn> -->
<!--X-Date: Sat, 10 Jul 2010 11:57:01 &#45;0700 (PDT) -->
<!--X-Message-Id: 1278786266&#45;sup&#45;5828@pinkfloyd.chass.utoronto.ca -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: B74D42D5&#45;E809&#45;446D&#45;A972&#45;2737C441C454@gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] xapian load issues</title>
<link rev="made" href="mailto:bwalton@artsci.utoronto.ca">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00879.html">Date Prev</a>][<a href="msg00913.html">Date Next</a>][<a href="msg00879.html">Thread Prev</a>][<a href="msg00913.html">Thread Next</a>][<a href="maillist.html#00976">Date Index</a>][<a href="threads.html#00976">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] xapian load issues</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-talk] xapian load issues</li>
<li><em>From</em>: Ben Walton &lt;<a href="mailto:bwalton%40artsci.utoronto.ca">bwalton@artsci.utoronto.ca</a>&gt;</li>
<li><em>Date</em>: Sat, 10 Jul 2010 14:28:48 -0400</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg00879.html">B74D42D5-E809-446D-A972-2737C441C454@gmail.com</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00879.html">B74D42D5-E809-446D-A972-2737C441C454@gmail.com</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/git</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Excerpts from fedzor's message of Sat Jul 10 13:55:51 -0400 2010:

I'm not a mac person, but...

&gt; /Users/ari/.rvm/gems/ruby-1.8.7-p174/gems/xapian-full-1.1.3.4/lib/_xapian.bundle: dlopen(/Users/ari/.rvm/gems/ruby-1.8.7-p174/gems/xapian-full-1.1.3.4/lib/_xapian.bundle, 9): Library not loaded: /usr/local/lib/libxapian-1.1.3.dylib (LoadError)
&gt;  Referenced from: /Users/ari/.rvm/gems/ruby-1.8.7-p174/gems/xapian-full-1.1.3.4/lib/_xapian.bundle
&gt;  Reason: image not found -
&gt;  /Users/ari/.rvm/gems/ruby-1.8.7-p174/gems/xapian-full-1.1.3.4/lib/_xapian.bundle

How did you install the non-gem part of xapian?  Eg the .dylib files
that the .dylib file built by the gem would be linked
against...looking at this error, I'd suspect you built it by hand or
with some other (macports?) process.  Does
/usr/local/lib/libxapian-1.1.3.dylib exist?  Is it in fact a dynamic
shared object (file /usr/local/lib/libxapian...).  Excuse the
terminology if it's not that used by the mac platform.

If libxapian-1.1.3.dylib is not in /usr/local, but in some other
location, you could be fighting an RPATH (embedded in another .dylib
file) or an environment setting like LD_LIBRARY_PATH, etc.

First of all, make sure your environment isn't polluted with LD*
variables.  Second, determine the correct location of the xapian
library.  Third, report back and hope there are some other mac people
here! :)

HTH.
-Ben
--
Ben Walton
Systems Programmer - CHASS
University of Toronto
C:416.407.5610 | W:416.978.4302

_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00879" href="msg00879.html">[sup-talk]  xapian load issues</a></strong>
<ul><li><em>From:</em> fedzor &lt;fedzor@gmail.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00879.html">[sup-talk]  xapian load issues</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00913.html">[sup-talk] No imap support in sup-config</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00879.html">[sup-talk]  xapian load issues</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00913.html">[sup-talk] No imap support in sup-config</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00976"><strong>Date</strong></a></li>
<li><a href="threads.html#00976"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
