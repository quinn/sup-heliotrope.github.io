<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] best method for before&#45;add&#45;message.rb -->
<!--X-From-R13: Buvyvccr ZrQninyvre <fhccbegNcyrpninyvre.pbz> -->
<!--X-Date: Thu, 10 Feb 2011 14:16:24 &#45;0800 (PST) -->
<!--X-Message-Id: 1297375381&#45;sup&#45;2823@plc.intranet.plecavalier.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1297346751&#45;sup&#45;70@plc.intranet.plecavalier.com -->
<!--X-Reference: 1297355619&#45;sup&#45;8657@bloovis.org -->
<!--X-Reference: 1297356327&#45;sup&#45;9107@plc.intranet.plecavalier.com -->
<!--X-Reference: 1297357197&#45;sup&#45;5893@bloovis.org -->
<!--X-Reference: 1297364797&#45;sup&#45;8388@plc.intranet.plecavalier.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] best method for before-add-message.rb</title>
<link rev="made" href="mailto:support@plecavalier.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00486.html">Date Prev</a>][<a href="msg00405.html">Date Next</a>][<a href="msg00486.html">Thread Prev</a>][<a href="msg00678.html">Thread Next</a>][<a href="maillist.html#00451">Date Index</a>][<a href="threads.html#00451">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] best method for before-add-message.rb</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Philippe LeCavalier &lt;<a href="mailto:support%40plecavalier.com">support@plecavalier.com</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-talk] best method for before-add-message.rb</li>
<li><em>From</em>: Philippe LeCavalier &lt;<a href="mailto:support%40plecavalier.com">support@plecavalier.com</a>&gt;</li>
<li><em>Date</em>: Thu, 10 Feb 2011 17:09:11 -0500</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>Cc</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg00486.html">1297364797-sup-8388@plc.intranet.plecavalier.com</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00613.html">1297346751-sup-70@plc.intranet.plecavalier.com</a>&gt;	&lt;<a href="msg00425.html">1297355619-sup-8657@bloovis.org</a>&gt;	&lt;1297356327-sup-9107@plc.intranet.plecavalier.com&gt;	&lt;1297357197-sup-5893@bloovis.org&gt;	&lt;<a href="msg00486.html">1297364797-sup-8388@plc.intranet.plecavalier.com</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/0.12.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi All.
Excerpts from Philippe LeCavalier's message of Thu Feb 10 14:19:49 -0500 2011:
&gt; Hi. I apologize in advance for the broken thread...Since I forgot a  linebreak at the beginning of the body so everything got mangled upon exiting vim. I did my best to re-create the order.
&gt; 
&gt; 
&gt; Excerpts from Mark Alexander's message of Thu Feb 10 12:00:17 -0500 2011: 
&gt; 
&gt; &gt; Excerpts from Philippe LeCavalier's message of Thu Feb 10 11:52:53 -0500 2011:
&gt; 
&gt; &gt; &gt; Hi Mark. 
&gt; &gt; &gt; Have you tried? 
&gt; &gt; &gt; &gt; &gt;  case message.subj 
&gt; &gt; &gt;  when /\[P4 SUBMIT/ 
&gt; &gt; &gt;    message.add_label :p4 
&gt; &gt; &gt;   message.remove_label :inbox 
&gt; &gt; &gt; end 
&gt; &gt; &gt; No, I haven't tried remove_label.
&gt; 
&gt; I did some testing and for some reason I cannot see, the above code automatically archives the msg without any obvious code telling sup to do so.
&gt; 
&gt; If I:
&gt; 
&gt;   case message.from.email
&gt;   when /@plecavalier.com/
&gt;     message.add_label :TEST
&gt;     message.add_label :TEST2
&gt;     message.add_label :TEST3
&gt;   end
&gt; 
&gt; tests sent to myself are respectively labeled TEST TEST2 TEST3 but are also striped of the inbox label. Since this is exactly what I want this works for me but...

Well, I don't know if this was the most efficient method but I took Mark's example and ran with it. This method accomplishes my goal to add(and remove!) multiple labels in one swish and is legible enough for the simple-minded like myself.

Note: the above statement re. removing the inbox label without having specifying it explicitely is false...No idea why Sup was doing that but restarting sup completely, fixed that oddity. Perhaps my understanding of 'H' is incorrect!?

Thanks a bunch Mark my inbox is well on it's way to 0 as it once was.
-- 
Thanks,
Phil
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00678" href="msg00678.html">Re: [sup-talk] best method for before-add-message.rb</a></strong>
<ul><li><em>From:</em> Moritz Wilhelmy &lt;moritz+sup@wzff.de&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00613" href="msg00613.html">[sup-talk] best method for before-add-message.rb</a></strong>
<ul><li><em>From:</em> Philippe LeCavalier &lt;support@plecavalier.com&gt;</li></ul></li>
<li><strong><a name="00425" href="msg00425.html">Re: [sup-talk] best method for before-add-message.rb</a></strong>
<ul><li><em>From:</em> Mark Alexander &lt;marka@pobox.com&gt;</li></ul></li>
<li><strong><a name="00486" href="msg00486.html">Re: [sup-talk] best method for before-add-message.rb</a></strong>
<ul><li><em>From:</em> Philippe LeCavalier &lt;support@plecavalier.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00486.html">Re: [sup-talk] best method for before-add-message.rb</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00405.html">[sup-talk] Delete email from Sup index</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00486.html">Re: [sup-talk] best method for before-add-message.rb</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00678.html">Re: [sup-talk] best method for before-add-message.rb</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00451"><strong>Date</strong></a></li>
<li><a href="threads.html#00451"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
