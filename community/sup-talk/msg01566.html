<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] updated xapian experimental branch -->
<!--X-From-R13: @vpbynf Bbhvyyneq <avpbynf.cbhvyyneqNtznvy.pbz> -->
<!--X-Date: Tue, 3 Nov 2009 00:53:58 &#45;0800 (PST) -->
<!--X-Message-Id: 1257237468&#45;sup&#45;5663@peray -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1257118189&#45;sup&#45;7392@zyrg.net -->
<!--X-Reference: 1257163403&#45;sup&#45;9032@masanjin.net -->
<!--X-Reference: 1257196293&#45;sup&#45;6882@zyrg.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] updated xapian experimental branch</title>
<link rev="made" href="mailto:nicolas.pouillard@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01611.html">Date Prev</a>][<a href="msg01634.html">Date Next</a>][<a href="msg01611.html">Thread Prev</a>][<a href="msg01583.html">Thread Next</a>][<a href="maillist.html#01566">Date Index</a>][<a href="threads.html#01566">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] updated xapian experimental branch</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Rich Lane &lt;<a href="mailto:rlane%40club.cc.cmu.edu">rlane@club.cc.cmu.edu</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-talk] updated xapian experimental branch</li>
<li><em>From</em>: Nicolas Pouillard &lt;<a href="mailto:nicolas.pouillard%40gmail.com">nicolas.pouillard@gmail.com</a>&gt;</li>
<li><em>Date</em>: Tue, 03 Nov 2009 09:39:48 +0100</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>Cc</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg01611.html">1257196293-sup-6882@zyrg.net</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg01796.html">1257118189-sup-7392@zyrg.net</a>&gt; &lt;<a href="msg01619.html">1257163403-sup-9032@masanjin.net</a>&gt;	&lt;<a href="msg01611.html">1257196293-sup-6882@zyrg.net</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/git</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Excerpts from Rich Lane's message of Tue Nov 03 04:48:10 +0100 2009:
&gt; Excerpts from William Morgan's message of Mon Nov 02 07:08:09 -0500 2009:
&gt; &gt; &gt;  - New 'z' key to clear irrelevant threads
&gt; &gt; &gt;   - Not strictly necessary, but removing messages in response to index
&gt; &gt; &gt;     events is difficult with the current UI code
&gt; &gt; 
&gt; &gt; Can you describe this a bit?
&gt; 
&gt; In general, we can only determine thread relevance by querying xapian.
&gt; The actual write to the db is done async, so it will happen a little
&gt; after you (for example) remove a label. The index fires a message event
&gt; when the new state hits the db, and the UI then checks if the thread is
&gt; still relevant to the query. So, the UI would only know to hide a newly
&gt; irrelevant thread after the user has potentially gone on and done other
&gt; actions. Having threads randomly disappear would be unfriendly, so
&gt; instead the UI displays a red X. 'z' will drop these irrelevant threads.
&gt; 
&gt; For 'simple' queries we can determine relevance without xapian, so we
&gt; could synchronously remove irrelevant threads in that case. However,
&gt; this would lead to unintuitive situations where queries that appear
&gt; similar have different irrelevance behaviors. The option that I will
&gt; probably implement is choosing the behavior per-mode, so that inbox-mode
&gt; could keep it's old behavior. That's the most important one anyway.

What are non simple queries which would cause 'red X's to appear? My guess
is that since we cannot change other attributes than the labels, we can
statically know if the thread is still relevant without the label. No?

-- 
Nicolas Pouillard
<a  rel="nofollow" href="http://nicolaspouillard.fr">http://nicolaspouillard.fr</a>
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="01583" href="msg01583.html">Re: [sup-talk] updated xapian experimental branch</a></strong>
<ul><li><em>From:</em> Rich Lane &lt;rlane@club.cc.cmu.edu&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01796" href="msg01796.html">[sup-talk] updated xapian experimental branch</a></strong>
<ul><li><em>From:</em> Rich Lane &lt;rlane@club.cc.cmu.edu&gt;</li></ul></li>
<li><strong><a name="01619" href="msg01619.html">Re: [sup-talk] updated xapian experimental branch</a></strong>
<ul><li><em>From:</em> William Morgan &lt;wmorgan-sup@masanjin.net&gt;</li></ul></li>
<li><strong><a name="01611" href="msg01611.html">Re: [sup-talk] updated xapian experimental branch</a></strong>
<ul><li><em>From:</em> Rich Lane &lt;rlane@club.cc.cmu.edu&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01611.html">Re: [sup-talk] updated xapian experimental branch</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01634.html">Re: [sup-talk] Sup crashing upon save changes ($)</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01611.html">Re: [sup-talk] updated xapian experimental branch</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01583.html">Re: [sup-talk] updated xapian experimental branch</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01566"><strong>Date</strong></a></li>
<li><a href="threads.html#01566"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
