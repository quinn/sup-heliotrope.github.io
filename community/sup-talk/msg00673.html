<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] Sup 0.12 released -->
<!--X-From-R13: Oaqerv Fubec <tnebguNtznvy.pbz> -->
<!--X-Date: Thu, 27 Jan 2011 10:52:09 &#45;0800 (PST) -->
<!--X-Message-Id: AANLkTi=MTP05C&#45;ZVVi=q5+giXctgfZNtwGrgPQ_t6Ljn@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1295068347&#45;sup&#45;3453@zyrg.net -->
<!--X-Reference: AANLkTimE&#45;40sx8xXxQbjz=Jok3FnWJZgmNTBiMObRahx@mail.gmail.com -->
<!--X-Reference: 1295301694&#45;sup&#45;2240@eris -->
<!--X-Reference: 1295321122&#45;sup&#45;9696@zyrg.net -->
<!--X-Reference: AANLkTik=GqXrK9WOtA7CQrU51Tyeq7AoBQ6rGHB4iepg@mail.gmail.com -->
<!--X-Reference: 1296056218&#45;sup&#45;3756@masanjin.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] Sup 0.12 released</title>
<link rev="made" href="mailto:garoth@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00454.html">Date Prev</a>][<a href="msg00704.html">Date Next</a>][<a href="msg00695.html">Thread Prev</a>][<a href="msg00659.html">Thread Next</a>][<a href="maillist.html#00673">Date Index</a>][<a href="threads.html#00673">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] Sup 0.12 released</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: William Morgan &lt;<a href="mailto:wmorgan-sup%40masanjin.net">wmorgan-sup@masanjin.net</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-talk] Sup 0.12 released</li>
<li><em>From</em>: Andrei Thorp &lt;<a href="mailto:garoth%40gmail.com">garoth@gmail.com</a>&gt;</li>
<li><em>Date</em>: Thu, 27 Jan 2011 13:51:49 -0500</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a>; dkim=neutral (body hash did not verify) header.i=@gmail.com</li>
<li><em>Cc</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:in-reply-to:references:date	:message-id:subject:from:to:cc:content-type	:content-transfer-encoding;	bh=pJxUzBzefhEjbrZ0kibvLw2Ui9TVaQzpBZfiqr4Qyvc=;	b=NeQzES4ZqEnvEVrPw5x1FoJQPPkakvQqQxSntMQdaH2x0EHo65cyDjY9HQP2WvW6MM	GrNYfSo95Fogrhu0Aqcfib+B5Ut+lkeEeV3DYktJrJvPUDlfqNmrqvc+cZa1lB8tG0pk	iJV8VW+5IN5fwHxg4ua0kIyKr1z1X3SpNs2+4=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;	h=mime-version:in-reply-to:references:date:message-id:subject:from:to	:cc:content-type:content-transfer-encoding;	b=vDib6XAgJUi+WcxwIRFY8rBA9l67qgC6UMO1SfbrZ2y6SXevXsjnWX5rkBI4tnX5Z5	MaEqx+oqWDp5124Y/DQXcMPjtLVjxFRI7X5htoX2o5xFo7OAq9KBx7KMAPKyeeiCqg7S	ocUseMlyc1mo9Mnkhxh3nkuskg+coOVeiXFuE=</li>
<li><em>In-reply-to</em>: &lt;<a href="msg00695.html">1296056218-sup-3756@masanjin.net</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00572.html">1295068347-sup-3453@zyrg.net</a>&gt;	&lt;AANLkTimE-40sx8xXxQbjz=Jok3FnWJZgmNTBiMObRahx@mail.gmail.com&gt;	&lt;1295301694-sup-2240@eris&gt; &lt;<a href="msg00495.html">1295321122-sup-9696@zyrg.net</a>&gt;	&lt;AANLkTik=GqXrK9WOtA7CQrU51Tyeq7AoBQ6rGHB4iepg@mail.gmail.com&gt;	&lt;<a href="msg00695.html">1296056218-sup-3756@masanjin.net</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>On Wed, Jan 26, 2011 at 10:50 AM, William Morgan
&lt;wmorgan-sup@masanjin.net&gt; wrote:
&gt; Hi Andrei,
&gt;
&gt; These problems are all 1.9 related. But I'm very interested in getting
&gt; Sup working with 1.9, so let's see if we can figure something out.
&gt;
&gt; Reformatted excerpts from Andrei Thorp's message of 2011-01-25:
&gt;&gt; * use ruby-xapian-full
&gt;
&gt; You may not need this; see Rich's comments earlier.

Yeah, I tried it with regular xapian-ruby-bindings, but sup seems to
insist on wanting &quot;ruby-full&quot; as a dependency. However, I haven't
checked this just now, so I might be misremembering!

&gt;
&gt;&gt; * need gettext to be a gem and not a regular install... -- pacman -Rd
&gt;&gt; your ruby-gettext and sudo gem install ruby-gettext (STILL A PROBLEM,
&gt;&gt; SHOULD TALK TO THE MAINTAINER OF THAT PACKAGE)
&gt;
&gt; Perhaps the package has not been updated to 1.9?

The package is up to date, I think. It's just doing an actual source
download and compile, so it's being installed in a non-gem format, if
I understand correctly. Sup then doesn't find it. This should be
something I can sort out myself though amongst the AUR. Again, not
100% sure on this one.

&gt;&gt; * gem install sup:
&gt;&gt; &#xA0; - Won't install in local mode (i.e. into your ~), fyi (not that I care a lot)
&gt;
&gt; What is ther error? Sup shouldn't care where its source files go.

Yeah, ignore this. I think rubygems changed the behaviour I used to
remember where if you weren't sudo'd, it'd install as your local user
in ~/.gems or something. Nothing to worry about.

&gt;&gt; &#xA0; - Still attempts to build ncurses (which fails)? Why's that? If I
&gt;&gt; override and install it without dependencies it seems to use ncursesw
&gt;&gt; happily enough.
&gt;
&gt; This is weird. Sup doesn't depend on the ncurses gem any more. And that
&gt; gem doesn't build under 1.9. Sup now depends on the ncursesw gem (which
&gt; Rich has been releasing newer versions of) which *does* support 1.9.

I did experience this, but for whatever reason, gem is taking ages at
the moment so I can't test. Anyway, it doesn't matter for the package,
since I ignore gem dependencies during install and get them from the
Arch repos instead.

&gt;&gt; * The new package throws up this runtime error without a .sup directory:
&gt;&gt;
&gt;&gt; --- RuntimeError from thread: main
&gt;&gt; can't modify frozen string
&gt;&gt; /usr/lib/ruby/gems/1.9.1/gems/sup-0.12.1/lib/sup/account.rb:54:in
&gt;&gt; `force_encoding'
&gt;
&gt; This is the most troubling. I will see if I can figure out what's going
&gt; on here. I've seen this before and it's another symptom of Ruby 1.9
&gt; string insanity.
&gt;
&gt;&gt; The above I've seen to be bug 98 on the bugtracker... but for whatever
&gt;&gt; reason, the bugtracker has been down for a week or two on my end.
&gt;
&gt; Due to spam reasons I've shut it down, at least for the time being.

Ew, spam :(

&gt;&gt; What xapian package do you recommend using? Maybe that's the source of
&gt;&gt; my problems.
&gt;
&gt; I suspect not, given the above.

PHENOMENAL NEWS! For the first time in ages, Sup now works properly on
Archlinux with ruby 1.9. The update to ncursesw fixes the frozen
string issue, and sup seems to be running properly! Fantastic! Ahh,
it's so pretty and blue. :D

Anyway, so hopefully things should be smoother now since Ruby should
be more stable and its libs are finally catching up. It's been a bit
of a pain to get sup to run on Arch in the past, but hopefully that's
largely behind us now. Thanks everyone.
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00572" href="msg00572.html">[sup-devel] Sup 0.12 released</a></strong>
<ul><li><em>From:</em> Rich Lane &lt;rlane@club.cc.cmu.edu&gt;</li></ul></li>
<li><strong><a name="00661" href="msg00661.html">Re: [sup-talk] Sup 0.12 released</a></strong>
<ul><li><em>From:</em> Shadowfirebird &lt;shadowfirebird@gmail.com&gt;</li></ul></li>
<li><strong><a name="00456" href="msg00456.html">Re: [sup-talk] Sup 0.12 released</a></strong>
<ul><li><em>From:</em> Philipp &#xDC;berbacher &lt;hollunder@lavabit.com&gt;</li></ul></li>
<li><strong><a name="00495" href="msg00495.html">Re: [sup-talk] Sup 0.12 released</a></strong>
<ul><li><em>From:</em> Rich Lane &lt;rlane@club.cc.cmu.edu&gt;</li></ul></li>
<li><strong><a name="00407" href="msg00407.html">Re: [sup-talk] Sup 0.12 released</a></strong>
<ul><li><em>From:</em> Andrei Thorp &lt;garoth@gmail.com&gt;</li></ul></li>
<li><strong><a name="00695" href="msg00695.html">Re: [sup-talk] Sup 0.12 released</a></strong>
<ul><li><em>From:</em> William Morgan &lt;wmorgan-sup@masanjin.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00454.html">Re: [sup-talk] Non-english outlook block quote regexp</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00704.html">[sup-talk] Need a simple check / nice error message for user error on mbox being a dir</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00695.html">Re: [sup-talk] Sup 0.12 released</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00659.html">[sup-talk] Custom cursor color</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00673"><strong>Date</strong></a></li>
<li><a href="threads.html#00673"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
