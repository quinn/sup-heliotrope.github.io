<!-- MHonArc v2.6.18 -->
<!--X-Subject: [sup&#45;talk] sup leaves unencrypted emails in /tmp -->
<!--X-From-R13: Vnzvfu R <qzvfuqNtznvy.pbz> -->
<!--X-Date: Wed, 1 Dec 2010 16:53:14 &#45;0800 (PST) -->
<!--X-Message-Id: AANLkTikzfKZ9573c+NOiYA3UWjFhWpohhcGroS0Zz19F@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[sup-talk] sup leaves unencrypted emails in /tmp</title>
<link rev="made" href="mailto:dmishd@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00459.html">Date Prev</a>][<a href="msg00477.html">Date Next</a>][<a href="msg00459.html">Thread Prev</a>][<a href="msg00368.html">Thread Next</a>][<a href="maillist.html#00404">Date Index</a>][<a href="threads.html#00404">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[sup-talk] sup leaves unencrypted emails in /tmp</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: [sup-talk] sup leaves unencrypted emails in /tmp</li>
<li><em>From</em>: Hamish D &lt;<a href="mailto:dmishd%40gmail.com">dmishd@gmail.com</a>&gt;</li>
<li><em>Date</em>: Thu, 2 Dec 2010 00:18:08 +0000</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a>; dkim=neutral (body hash did not verify) header.i=@gmail.com</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:received:received:date:message-id	:subject:from:to:content-type;	bh=sqnQoxLHnhgvi9t20j2D6vXmBFpLb5dvnn+vZvuVe3Y=;	b=YtHlnnOKXND8gUL7/bCm3kOsPsSjPoNGHajkO/Y9o5NC+V1hBkMlw4ix/jBOsFwiGG	L8bpjBilabQkhCd1H7zeTCAh1fY39H+2xUjSiQULijhn9d845OBqSj8dYBH5COQUvbe8	vozXdP8680eqFT207y4jIBhJlgsvSIaKC2Z1k=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;	h=mime-version:date:message-id:subject:from:to:content-type;	b=cURa0t3iUXvHGB2YOxYbeEa/92J+Klcz/so521S95OOrs/XbTISjcnVvPKuofHO8jj	3/FeySoDlEsMEEHn9tlbjXyVp7W9XohZqKixdHeBavpo1sMnhJF+D+fvG/Q1v5dLMm2g	8G6W9x9Fe+oB28dz6w0ooAZ2Izg6flgEG/OMc=</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I noticed that sup appears to leave the unencrypted contents of emails
in /tmp - at least it did on my system. This is a pretty serious issue
on shared computers. I'm not sure why - my attempts at a quick fix
failed. The files are created using Tempfile.new and close is called,
but after that the files are written to by gpg. I'm not sure if this
means that the tempfile system then doesn't delete them later for some
reason.

The tempfile stuff does seem to work for the files containing the
output from gpg. They do (eventually) get deleted. But the &quot;temporary&quot;
files that gpg puts the plaintext into seem to hang around even after
I've done a clean exit from sup.

If anyone has got good ideas about how to fix this for sup 0.12 I
think that would be a fine thing to do.

Note that this is the mainline version of sup, not the gpgme version
I've been developing - using gpgme means the plaintexts never have to
be written to disk, so if we move to gpgme (once I've got it up to
scratch) then these problems will go away.

Thought people ought to know.
Hamish Downer
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00368" href="msg00368.html">Re: [sup-talk] sup leaves unencrypted emails in /tmp</a></strong>
<ul><li><em>From:</em> Cameron Matheson &lt;cam+sup@cammunism.org&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00459.html">[sup-talk] sup crashing on start</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00477.html">[sup-talk] Can't start Sup, allegedly because of a locked index.</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00459.html">[sup-talk] sup crashing on start</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00368.html">Re: [sup-talk] sup leaves unencrypted emails in /tmp</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00404"><strong>Date</strong></a></li>
<li><a href="threads.html#00404"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
