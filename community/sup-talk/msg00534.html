<!-- MHonArc v2.6.18 -->
<!--X-Subject: [sup&#45;talk] before&#45;add&#45;message.rb <&#45;> Gmail Filters -->
<!--X-From-R13: "Inry [. @nferqqvar" <jnry.anferqqvarNtznvy.pbz> -->
<!--X-Date: Fri, 10 Dec 2010 11:02:01 &#45;0800 (PST) -->
<!--X-Message-Id: AANLkTimbEFpL35xdiwc6BVF921+H1Hgu_JRqNJN0O9hN@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[sup-talk] before-add-message.rb &lt;-&gt; Gmail Filters</title>
<link rev="made" href="mailto:wael.nasreddine@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00564.html">Date Prev</a>][<a href="msg00665.html">Date Next</a>][<a href="msg00564.html">Thread Prev</a>][<a href="msg00665.html">Thread Next</a>][<a href="maillist.html#00534">Date Index</a>][<a href="threads.html#00534">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[sup-talk] before-add-message.rb &lt;-&gt; Gmail Filters</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>Subject</em>: [sup-talk] before-add-message.rb &lt;-&gt; Gmail Filters</li>
<li><em>From</em>: &quot;Wael M. Nasreddine&quot; &lt;<a href="mailto:wael.nasreddine%40gmail.com">wael.nasreddine@gmail.com</a>&gt;</li>
<li><em>Date</em>: Fri, 10 Dec 2010 19:10:44 +0100</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a>; dkim=neutral (body hash did not verify) header.i=@gmail.com</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:received:mime-version:received:from:date	:message-id:subject:to:content-type:content-transfer-encoding;	bh=Dpgowbtn3YPCFGM+fwzJf/+74bSE1F+B3wAb1E/tdyA=;	b=sNjUnpvr2A+6hR6FabJmgzcKR1JOhEEcBYLYAvWLdDIH6CwNqDyH7XSZV+y17k719D	MBCnrYoRl37DNpyj9lgS7ev1OpH6yUMxo7LP9UNlQO0KDdH0YtzQ4HOP1hvuIoHfcaM8	RMnBBjNtcd4sNdzG2jmoMC0W3P732o6wqsIGE=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;	h=mime-version:from:date:message-id:subject:to:content-type	:content-transfer-encoding;	b=QuONFtX5UjZLbhwBu3cjV8X8E/DwiF0cBlJvu/yolJ3fPxtUa28sxVc6b2Tmj2skHT	KJMlsl3Wdug1fpUuWYDNmT6KH2utUeA3TnHHoFWidcSt+NfUOreAfzFFy1FdjHjaSthk	9+CP8fROvU+AI59cHe4QSZ+xqLbsHrDNQ2Dw8=</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hello,

First I would like to thank all and everyone who has contributed to
the PERFECT email client, the client I was looking for, for a very
long time... I love it...

My gmail account is, at the same time, my primary email address and
the storage for all my emails, all email aliases, work-related or not,
ends up one way or another in my gmail, even the sent mail, and to
keep track of everything, I use gmail filters to, well, hide, label,
mark as read, mark as Crap :)

So I have more than 100 filters already setup, fortunately gmail let's
you export those filters as an XML (c.f below for an example) through
one of the labs extensions, however I couldn't find any information on
before-add-message.rb hook using mailFilters.xml..

So my question is, did anyone write a hook to reads that XML file and
work on the message object ? Otherwise, did anyone make a dynamic
before-add-message.rb I could follow? I know ruby, but not that much
so I would appreciate an example to follow..

Thank you all,,

Regards,
Wael Nasreddine




-------------------------------------- mailFilters.xml
&lt;?xml version='1.0' encoding='UTF-8'?&gt;&lt;feed
xmlns='<a  rel="nofollow" href="http://www.w3.org/2005/Atom">http://www.w3.org/2005/Atom</a>'
xmlns:apps='<a  rel="nofollow" href="http://schemas.google.com/apps/2006">http://schemas.google.com/apps/2006</a>'&gt;
	&lt;title&gt;Mail Filters&lt;/title&gt;
	&lt;id&gt;tag:mail.google.com,2008:filters:1226589431861,1237145025938,1244162662829,1244162696287&lt;/id&gt;
	&lt;updated&gt;2010-12-10T15:01:45Z&lt;/updated&gt;
	&lt;author&gt;
		&lt;name&gt;Wael Nasreddine&lt;/name&gt;
		&lt;email&gt;my.email@gmail.com&lt;/email&gt;
	&lt;/author&gt;
        &lt;entry&gt;
		&lt;category term='filter'&gt;&lt;/category&gt;
		&lt;title&gt;Mail Filter&lt;/title&gt;
		&lt;id&gt;tag:mail.google.com,2008:filter:1226589431861&lt;/id&gt;
		&lt;updated&gt;2010-12-10T15:01:45Z&lt;/updated&gt;
		&lt;content&gt;&lt;/content&gt;
		&lt;apps:property name='from' value='customersupport@somecompany.com OR
support@somecompany.com OR supporttestv3@somecompany.com'/&gt;
		&lt;apps:property name='label' value='SomeCompany'/&gt;
		&lt;apps:property name='shouldNeverSpam' value='true'/&gt;
	&lt;/entry&gt;
	&lt;entry&gt;
		&lt;category term='filter'&gt;&lt;/category&gt;
		&lt;title&gt;Mail Filter&lt;/title&gt;
		&lt;id&gt;tag:mail.google.com,2008:filter:1237145025938&lt;/id&gt;
		&lt;updated&gt;2010-12-10T15:01:45Z&lt;/updated&gt;
		&lt;content&gt;&lt;/content&gt;
		&lt;apps:property name='to' value='zsh-workers@sunsite.dk'/&gt;
		&lt;apps:property name='label' value='ML/Zsh-Workers'/&gt;
		&lt;apps:property name='shouldArchive' value='true'/&gt;
	&lt;/entry&gt;
	&lt;entry&gt;
		&lt;category term='filter'&gt;&lt;/category&gt;
		&lt;title&gt;Mail Filter&lt;/title&gt;
		&lt;id&gt;tag:mail.google.com,2008:filter:1244162662829&lt;/id&gt;
		&lt;updated&gt;2010-12-10T15:01:45Z&lt;/updated&gt;
		&lt;content&gt;&lt;/content&gt;
		&lt;apps:property name='subject' value='[Something Test][PASS]'/&gt;
		&lt;apps:property name='label' value='Something Test'/&gt;
		&lt;apps:property name='shouldMarkAsRead' value='true'/&gt;
		&lt;apps:property name='shouldArchive' value='true'/&gt;
		&lt;apps:property name='shouldNeverSpam' value='true'/&gt;
	&lt;/entry&gt;
	&lt;entry&gt;
		&lt;category term='filter'&gt;&lt;/category&gt;
		&lt;title&gt;Mail Filter&lt;/title&gt;
		&lt;id&gt;tag:mail.google.com,2008:filter:1244162696287&lt;/id&gt;
		&lt;updated&gt;2010-12-10T15:01:45Z&lt;/updated&gt;
		&lt;content&gt;&lt;/content&gt;
		&lt;apps:property name='subject' value='[Something Test][FAIL]'/&gt;
		&lt;apps:property name='label' value='Something Test'/&gt;
		&lt;apps:property name='shouldNeverSpam' value='true'/&gt;
		&lt;apps:property name='shouldAlwaysMarkAsImportant' value='true'/&gt;
	&lt;/entry&gt;
&lt;/feed&gt;
-------------------------------------- mailFilters.xml

-- 
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Wa&#xEA;l Nasreddine
TechnoGate www.technogate.fr
mobile :&#xA0; 06.32.94.70.13
agence : 09.70.444.236
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00564.html">[sup-talk] search '-label:' fails</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00665.html">[sup-talk] Gmail Contacts</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00564.html">[sup-talk] search '-label:' fails</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00665.html">[sup-talk] Gmail Contacts</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00534"><strong>Date</strong></a></li>
<li><a href="threads.html#00534"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
