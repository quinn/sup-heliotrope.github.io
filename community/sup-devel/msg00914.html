<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;devel] Storing message tags and other Sup info as headers	in Maildir -->
<!--X-From-R13: [nggv Svqra <fanvccrevNtznvy.pbz> -->
<!--X-Date: Mon, 7 Jun 2010 20:16:34 &#45;0700 (PDT) -->
<!--X-Message-Id: AANLkTikI63bB_jx3EJsJ15iObHWLZJf_x0d8iw&#45;gDrXP@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 20100604134404.GA28767@artemis.silentflame.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-devel] Storing message tags and other Sup info as headers	in Maildir</title>
<link rev="made" href="mailto:snaipperi@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00878.html">Date Prev</a>][<a href="msg00930.html">Date Next</a>][<a href="msg01146.html">Thread Prev</a>][<a href="msg01092.html">Thread Next</a>][<a href="maillist.html#00914">Date Index</a>][<a href="threads.html#00914">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-devel] Storing message tags and other Sup info as headers	in Maildir</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Sup developer discussion &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-devel] Storing message tags and other Sup info as headers	in Maildir</li>
<li><em>From</em>: Matti Eiden &lt;<a href="mailto:snaipperi%40gmail.com">snaipperi@gmail.com</a>&gt;</li>
<li><em>Date</em>: Tue, 8 Jun 2010 06:14:08 +0300</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a>; dkim=neutral (body hash did not verify) header.i=@gmail.com</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:received:received:in-reply-to	:references:date:message-id:subject:from:to:content-type;	bh=xPwMATWbIimlgToXkRoOVwlZWAWi5nZJ3f4/HyNF0/8=;	b=rA53UohBtTnb0Q+2biU4hCI8iUYJv5x4K8HRZFP9T0Bwl2Iuykl9eDBLLThXdIQgTo	qqO1EYSYL3pk7WWy7GvSUzF/p+Tn26NeoUVaySot3wA9wse5m/AkWl82UMdiVbfAZBgs	DFN/bxPH2OMFOiPmzldUhoctPyF/NOW4MD6S0=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;	h=mime-version:in-reply-to:references:date:message-id:subject:from:to	:content-type;	b=FX2CPXZxlUqJ5IWLNqzOSmCiwO2cPGfmDV2W0FcsYzpAMhdtHBftJ4EfrawvZemF53	8uay7qVV3vb+2nTxsiFDt0eQFMJs++yQJnicBubg1489iYOu0PxP/wmbHSOsI+zYxLGz	wA8sZA7Tu6tBtFBOZr4yAchwIjoP4yZiD4LkU=</li>
<li><em>In-reply-to</em>: &lt;<a href="msg01146.html">20100604134404.GA28767@artemis.silentflame.com</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-devel">http://rubyforge.org/pipermail/sup-devel</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=help">mailto:sup-devel-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: Sup developer discussion &lt;sup-devel.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-devel@rubyforge.org">mailto:sup-devel@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=subscribe">mailto:sup-devel-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-devel">http://rubyforge.org/mailman/options/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=unsubscribe">mailto:sup-devel-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg01146.html">20100604134404.GA28767@artemis.silentflame.com</a>&gt;</li>
<li><em>Reply-to</em>: Sup developer discussion &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Sean,

I was expecting somebody else to reply in this but since I'm not
seeing anyone doing so, I'll give it a shot. I only recently
discovered sup, and I'm not a Ruby programmer, however I got quite a
bunch of experience with Python (now the rest of the mailing list can
proceed flaming me). The following post is purely speculative.

Shortly put, I don't expect to see any change on this matter, at least
in the near future. There is and has been a tool, sup-sync-back which
should reflect the changes back to mbox/maildir but the way it works
is far from ideal, I guess. Anyway..

Let's get one thing straight first, sup doesn't really use specific
status flags/tags or such for mails. Instead, every piece of
information is in the labels. A couple of labels are predefined:
Attachment, Deleted, Draft, Inbox, Killed, Sent, Spam, Starred and
Unread. Technically, a message that is archived is simply lacking the
label &quot;Inbox&quot;. Rest of the labels are user-defined.

Standard maildir format already provides following flags by default:
(S)een, (T)rashed, (D)raft. In addition flags that sup doesn't need;
Passed, Replied and Flagged.

Dovecot (an IMAP server) provides user defined flags for maildirs. The
flags are lowercase letters ranging a-z (up to 26 different), and
seems like it works OK with the maildir. (
<a  rel="nofollow" href="http://wiki.dovecot.org/MailboxFormat/Maildir">http://wiki.dovecot.org/MailboxFormat/Maildir</a> ). This could be one
nice option if a limit of some 20 user tags aren't too few.

Example maildir mail flags:
:2,Sacd

S - standard maildir flag: Seen, MUA would label as &quot;Read&quot;
a - custom flag - MUA would label as &quot;Archived&quot;
b - custom flag - MUA would label as &quot;Starred&quot;
d - custom flag - User would label as &quot;Work&quot;

This is of course kinda opposite to sup's current situation where
messages are defined as Unread or Inbox, but anyway..


Personally I don't like the idea of MUA messing up with the email
headers as you suggested. Plus, this would result in a lot of
fragmentation on a hard disk with tens of thousands of emails, if on
initial sync sup would need to write label information in the middle
of every email. And as always when writing, there's a risk of data
loss, which would require additional measures.

This area interests me, however, and I guess I'm gonna make some
experiments how the flagging thing works in action, and if it makes
other mail clients break. (I doubt it does, otherwise Dovecot wouldn't
be using it, huh?).

Regards,
Matti
_______________________________________________
Sup-devel mailing list
Sup-devel@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="01092" href="msg01092.html">Re: [sup-devel] Storing message tags and other Sup info as headers in Maildir</a></strong>
<ul><li><em>From:</em> Sean Whitton &lt;sean@silentflame.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01146" href="msg01146.html">[sup-devel] Storing message tags and other Sup info as headers in	Maildir</a></strong>
<ul><li><em>From:</em> Sean Whitton &lt;sean@silentflame.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00878.html">Re: [sup-devel] [PATCH] Decode messages according to their	Content-Transfer-Encoding</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00930.html">[sup-devel] [PATCHES] reply-mode, signatures and account selector</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg01146.html">[sup-devel] Storing message tags and other Sup info as headers in	Maildir</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01092.html">Re: [sup-devel] Storing message tags and other Sup info as headers in Maildir</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00914"><strong>Date</strong></a></li>
<li><a href="threads.html#00914"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
