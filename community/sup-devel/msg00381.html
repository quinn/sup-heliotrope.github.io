<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;talk] try heliotrope! -->
<!--X-From-R13: fretrvtNtznvy.pbz -->
<!--X-Date: Mon, 27 Jun 2011 14:55:34 &#45;0700 (PDT) -->
<!--X-Message-Id: 1309209957&#45;sup&#45;3069@vector -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1309152077&#45;sup&#45;5963@masanjin.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-talk] try heliotrope!</title>
<link rev="made" href="mailto:sergeig@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00387.html">Date Prev</a>][<a href="msg00388.html">Date Next</a>][<a href="msg00387.html">Thread Prev</a>][<a href="msg00079.html">Thread Next</a>][<a href="maillist.html#00381">Date Index</a>][<a href="threads.html#00381">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-talk] try heliotrope!</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: William Morgan &lt;<a href="mailto:wmorgan-sup%40masanjin.net">wmorgan-sup@masanjin.net</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-talk] try heliotrope!</li>
<li><em>From</em>: <a href="mailto:sergeig%40gmail.com">sergeig@gmail.com</a></li>
<li><em>Date</em>: Mon, 27 Jun 2011 14:30:32 -0700</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a>; dkim=neutral (body hash did not verify) header.i=@gmail.com</li>
<li><em>Cc</em>: sup-talk &lt;<a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a>&gt;, sup-devel &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-talk%40rubyforge.org">sup-talk@rubyforge.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:content-type:from:to:cc:subject:references:date	:message-id:user-agent:content-transfer-encoding;	bh=eRhb+f75V6KfuHEoQDKNYqXIN4VLKmFSyglOFexKEmk=;	b=YUnGP+Bfv+bZ7vgfhGBYTxvbs7RGKLlAV/hE3PZENZV1oFfvz4cpF7jY4TGArtdosk	ZW/jnMXHFC5xzuWAYHq/ibre6v4vRWMro3hyk60t7Yp911eKt3YHxqaHGEIGl36RvypL	QRCwkE27pndh/mUOdAaHXJNk5OCYC/ZNMieTw=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;	h=content-type:from:to:cc:subject:references:date:message-id	:user-agent:content-transfer-encoding;	b=wPxIbS3j2thtmBSXIHvQy3u7Fplrg4PSAn5UtpOm4pREeLaZpDycDtDhshBV3q51tP	RF6bsbsZHdXBwADrvXNq4mDaoioWE7ppcSdENpntW0Xi70M6Cl9Zkdd3SaguK5u/R4kE	LDks7NO9tPeKoG47OytUJZigPaGl34HYF8w7c=</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-talk">http://rubyforge.org/pipermail/sup-talk</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=help">mailto:sup-talk-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: User &amp; developer discussion of Sup &lt;sup-talk.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-talk@rubyforge.org">mailto:sup-talk@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=subscribe">mailto:sup-talk-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-talk">http://rubyforge.org/mailman/options/sup-talk</a>&gt;,	&lt;<a href="mailto:sup-talk-request@rubyforge.org?subject=unsubscribe">mailto:sup-talk-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00305.html">1309152077-sup-5963@masanjin.net</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-talk-bounces%40rubyforge.org">sup-talk-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/0.12.1</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Server starts, but mbox add does not work.

On ubuntu 10.04, the gem found for livedb is &quot;leveldb-ruby&quot;. Not sure if this is related.

==
$ ruby -Ilib src/git/heliotrope/bin/heliotrope-add -m Mail/fb-mon.mbox -d .heliotrope/fb-mon/
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb.rb:11: [BUG] Segmentation fault
ruby 1.9.2p180 (2011-02-18 revision 30909) [i686-linux]

-- control frame ----------
c:0008 p:---- s:0053 b:0053 l:000052 d:000052 CFUNC  :make
c:0007 p:0017 s:0047 b:0047 l:000046 d:000046 METHOD /home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb.rb:11
c:0006 p:0054 s:0043 b:0043 l:000042 d:000042 METHOD /home/sergei/src/git/heliotrope/lib/heliotrope/index.rb:45
c:0005 p:---- s:0038 b:0038 l:000037 d:000037 FINISH
c:0004 p:---- s:0036 b:0036 l:000035 d:000035 CFUNC  :new
c:0003 p:0798 s:0031 b:0031 l:000ebc d:001680 EVAL   src/git/heliotrope/bin/heliotrope-add:113
c:0002 p:---- s:0004 b:0004 l:000003 d:000003 FINISH
c:0001 p:0000 s:0002 b:0002 l:000ebc d:000ebc TOP   
---------------------------
-- Ruby level backtrace information ----------------------------------------
src/git/heliotrope/bin/heliotrope-add:113:in `&lt;main&gt;'
src/git/heliotrope/bin/heliotrope-add:113:in `new'
/home/sergei/src/git/heliotrope/lib/heliotrope/index.rb:45:in `initialize'
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb.rb:11:in `new'
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb.rb:11:in `make'

-- C level backtrace information -------------------------------------------
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(rb_vm_bugreport+0x72) [0xb7807102]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x56657) [0xb76df657]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(rb_bug+0x3a) [0xb76df74a]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x10a1c4) [0xb77931c4]
[0xb787c410]
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb/leveldb.so(_ZN7leveldb8SkipListIPKcNS_8MemTable13KeyComparatorEE6InsertERKS2_+0x2c) [0xb712feec]
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb/leveldb.so(_ZN7leveldb8MemTable3AddEyNS_9ValueTypeERKNS_5SliceES4_+0x11a) [0xb712f85a]
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb/leveldb.so(+0x29699) [0xb7138699]
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb/leveldb.so(_ZNK7leveldb10WriteBatch7IterateEPNS0_7HandlerE+0x1cd) [0xb71389bd]
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb/leveldb.so(_ZN7leveldb18WriteBatchInternal10InsertIntoEPKNS_10WriteBatchEPNS_8MemTableE+0x40) [0xb7138a60]
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb/leveldb.so(_ZN7leveldb6DBImpl14RecoverLogFileEyPNS_11VersionEditEPy+0x35c) [0xb7126d6c]
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb/leveldb.so(_ZN7leveldb6DBImpl7RecoverEPNS_11VersionEditE+0x261) [0xb71280b1]
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb/leveldb.so(_ZN7leveldb2DB4OpenERKNS_7OptionsERKSsPPS0_+0xbd) [0xb712ad2d]
/home/sergei/.rvm/gems/ruby-1.9.2-p180/gems/leveldb-ruby-0.4/lib/leveldb/leveldb.so(+0x14165) [0xb7123165]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x1681b9) [0xb77f11b9]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x178e1e) [0xb7801e1e]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x16db50) [0xb77f6b50]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x173128) [0xb77fc128]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x174902) [0xb77fd902]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(rb_obj_call_init+0x50) [0xb76e18b0]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(rb_class_new_instance+0x3a) [0xb77302ea]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x168208) [0xb77f1208]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x178e1e) [0xb7801e1e]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x16db50) [0xb77f6b50]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x173128) [0xb77fc128]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(rb_iseq_eval_main+0x1f2) [0xb77fc562]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(+0x58f3a) [0xb76e1f3a]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(ruby_exec_node+0x25) [0xb76e1f75]
/home/sergei/.rvm/rubies/ruby-1.9.2-p180/lib/libruby.so.1.9(ruby_run_node+0x35) [0xb76e3785]
ruby(main+0x68) [0x80487f8]
/lib/tls/i686/cmov/libc.so.6(__libc_start_main+0xe6) [0xb74b4bd6]
ruby() [0x80486f1]

[NOTE]
You may have encountered a bug in the Ruby interpreter or extension libraries.
Bug reports are welcome.
For details: <a  rel="nofollow" href="http://www.ruby-lang.org/bugreport.html">http://www.ruby-lang.org/bugreport.html</a>

--
list of gems:

==
$ gem list

*** LOCAL GEMS ***

abstract (1.0.0)
actionmailer (3.0.9)
actionpack (3.0.9)
activemodel (3.0.9)
activerecord (3.0.9)
activeresource (3.0.9)
activesupport (3.0.9)
arel (2.1.3, 2.0.10)
builder (3.0.0, 2.1.2)
bundler (1.0.15)
erubis (2.7.0, 2.6.6)
gettext (2.1.0)
highline (1.6.2)
i18n (0.6.0, 0.5.0)
leveldb-ruby (0.4)
locale (2.0.5)
lockfile (1.4.3)
mail (2.3.0, 2.2.19)
mime-types (1.16)
ncursesw (1.2.4.3)
polyglot (0.3.1)
rack (1.3.0, 1.2.3)
rack-mount (0.8.1, 0.6.14)
rack-test (0.6.0, 0.5.7)
rails (3.0.9)
railties (3.0.9)
rake (0.9.2, 0.8.7 ruby)
rdoc (3.6.1)
rest-client (1.6.3)
rmail (1.0.0)
rubygems-update (1.8.5)
sinatra (1.2.6)
sup (0.12.1)
thor (0.14.6)
tilt (1.3.2)
treetop (1.4.9)
trollop (1.16.2)
tzinfo (0.3.28)
whistlepig (0.7)
xapian-core (1.2.3.1)
xapian-full (1.2.3)

==

Thx,

-Sergei


Excerpts from William Morgan's message of 2011-06-26 22:36:24 -0700:
&gt; Hi guys,
&gt; 
&gt; If any of you are interested in trying out the next generation of Sup, I
&gt; have things in a reasonably stable state. It's still too early for a
&gt; gem, but I have updated the README for both client and server sides. So
&gt; if you'd like to run some highly experimental code and see what the
&gt; future of curses-based email might look like, follow the instructions
&gt; in:
&gt; 
&gt; <a  rel="nofollow" href="http://github.com/wmorgan/heliotrope">http://github.com/wmorgan/heliotrope</a>
&gt;   and then
&gt; <a  rel="nofollow" href="http://github.com/wmorgan/turnsole">http://github.com/wmorgan/turnsole</a>
&gt; 
&gt; Lots of stuff is broken, but I have been using it as an end-to-end email
&gt; system for a week or so now, so the basics are there. Tell me how it goes!
_______________________________________________
sup-talk mailing list
sup-talk@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00079" href="msg00079.html">Re: [sup-talk] try heliotrope!</a></strong>
<ul><li><em>From:</em> William Morgan &lt;wmorgan-sup@masanjin.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00305" href="msg00305.html">[sup-devel] try heliotrope!</a></strong>
<ul><li><em>From:</em> William Morgan &lt;wmorgan-sup@masanjin.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00387.html">Re: [sup-talk] try heliotrope!</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00388.html">Re: [sup-devel] try heliotrope!</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00387.html">Re: [sup-talk] try heliotrope!</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00079.html">Re: [sup-talk] try heliotrope!</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00381"><strong>Date</strong></a></li>
<li><a href="threads.html#00381"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
