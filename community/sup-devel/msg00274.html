<!-- MHonArc v2.6.18 -->
<!--X-Subject: [sup&#45;devel]  Sign and encrypt -->
<!--X-From-R13: Bnhy Uebir <cnhy.n.tebirNtznvy.pbz> -->
<!--X-Date: Mon, 16 May 2011 14:58:29 &#45;0700 (PDT) -->
<!--X-Message-Id: 1305582172&#45;sup&#45;2519@localhost -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Derived: pgpDumsvwd0pL.pgp -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[sup-devel]  Sign and encrypt</title>
<link rev="made" href="mailto:paul.a.grove@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00129.html">Date Prev</a>][<a href="msg00044.html">Date Next</a>][<a href="msg00102.html">Thread Prev</a>][<a href="msg00331.html">Thread Next</a>][<a href="maillist.html#00274">Date Index</a>][<a href="threads.html#00274">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[sup-devel]  Sign and encrypt</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: sup-devel &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: [sup-devel]  Sign and encrypt</li>
<li><em>From</em>: Paul Grove &lt;<a href="mailto:paul.a.grove%40gmail.com">paul.a.grove@gmail.com</a>&gt;</li>
<li><em>Date</em>: Mon, 16 May 2011 22:56:56 +0100</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a>; dkim=neutral (body hash did not verify) header.i=@gmail.com</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:subject:from:to:date:message-id:user-agent	:content-transfer-encoding:mime-version:content-type;	bh=jsOxxEqgzot4rEYFRcul9AJj+KKYK6v/ztKJbXKVyyI=;	b=EX5y7YqESukbyzUSL9H6ylPDwPfiM7UKDPaavksnrGVOgXbTmjWj6ncjzwaaOBsUP4	UP3O2APaVPuU7y1m8f/yveizJFh2y8bsjs0PepFNAAqpz+BTUajQp74FnslcZdjcjneO	pZuIWIV75aiarL0ANndOgKB8AgifrcoJI5Tbo=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;	h=subject:from:to:date:message-id:user-agent	:content-transfer-encoding:mime-version:content-type;	b=c9c/nJAezK9tjUa66tDTTWIWqwNw+vb7+0E7ZyMDBXCuq/BjswhWX2b/XQnf5iECBA	pTxRzoHf/a7ia1goIHRJLHHtYGBoRSQNeW1UB0eeuzlvAU5SWz/6PBuvK1D8O8DioX7U	lU16J/alwsKFjJDEqteqNPLoqXarMAzZIcIbY=</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-devel">http://rubyforge.org/pipermail/sup-devel</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=help">mailto:sup-devel-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: Sup developer discussion &lt;sup-devel.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-devel@rubyforge.org">mailto:sup-devel@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=subscribe">mailto:sup-devel-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-devel">http://rubyforge.org/mailman/options/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=unsubscribe">mailto:sup-devel-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>Reply-to</em>: Sup developer discussion &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/git</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi I hope you guys can help me, recently I pulled the latest changes to
sup.

It took me a while - but I've noticed that I have problems when signing
and encrypting.

When I sign my emails are signed.
When I encrypt my emails are encrypted.

But when I sign _and_ encrypt my emails come out only encrypted!

I only noticed because I post to a mailing list that requires sign and
encrypt in order to post.

I know this problem never used to exist as I've posted on the list
before without issue.  I've taken the emails produced by sup and run
them through gpg and that shows as not signed also.

I had a look at the code, unfortunately I'm not well versed in ruby. I
cannot see for certain if there is a problem.

I can see that when signing the code produces a signature and attaches
it to the email, but when encrypting and signing it doesn't jump through
this hoop of adding any sort of attachment and instead an extra parameter 
:sign =&gt; true is passed to pgpme when doing the encryption.

Now completely off the top of my head but wasnt it a fairly recent
change to start using pgpme? I seem to remember some discussion on
changing to it, and perhaps the version I was using is prior to this?

Thanks,

Paul Grove
</pre><p><strong>Attachment:
<a href="pgpDumsvwd0pL.pgp" ><tt>signature.asc</tt></a></strong><br>
<em>Description:</em> PGP signature</p>
<pre>_______________________________________________
Sup-devel mailing list
Sup-devel@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00331" href="msg00331.html">Re: [sup-devel] Sign and encrypt</a></strong>
<ul><li><em>From:</em> Hamish &lt;dmishd@gmail.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00129.html">Re: [sup-devel] heliotrope: Crash with empty message.recipients</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00044.html">Re: [sup-devel] Query for largest msg_id?</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00102.html">Re: [sup-devel] Turnsole crash</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00331.html">Re: [sup-devel] Sign and encrypt</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00274"><strong>Date</strong></a></li>
<li><a href="threads.html#00274"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
