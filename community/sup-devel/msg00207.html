<!-- MHonArc v2.6.18 -->
<!--X-Subject: GMail, was: Re: [sup] Please review the documentation in class Source for implementing new Sources (#113) -->
<!--X-From-R13: Unhgr Vbcr <rtNtnhgr.irgfw.pbz> -->
<!--X-Date: Mon, 29 Jul 2013 00:54:58 &#45;0700 (PDT) -->
<!--X-Message-Id: 51F61F99.8030202@gaute.vetsj.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: sup&#45;heliotrope/sup/issues/113@github.com -->
<!--X-Reference: sup&#45;heliotrope/sup/issues/113/21703944@github.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>GMail, was: Re: [sup] Please review the documentation in class Source for implementing new Sources (#113)</title>
<link rev="made" href="mailto:eg@gaute.vetsj.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00333.html">Date Prev</a>][<a href="msg00145.html">Date Next</a>][<a href="msg00333.html">Thread Prev</a>][<a href="msg00325.html">Thread Next</a>][<a href="maillist.html#00207">Date Index</a>][<a href="threads.html#00207">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>GMail, was: Re: [sup] Please review the documentation in class Source for implementing new Sources (#113)</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: sup-heliotrope/sup &lt;<a href="mailto:reply%2Bi-17312025-bc9216b6e71e9f85225691210346aaf07ab7e48d-56827%40reply.github.com">reply+i-17312025-bc9216b6e71e9f85225691210346aaf07ab7e48d-56827@reply.github.com</a>&gt;</li>
<li><em>Subject</em>: GMail, was: Re: [sup] Please review the documentation in class Source for implementing new Sources (#113)</li>
<li><em>From</em>: Gaute Hope &lt;<a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a>&gt;</li>
<li><em>Date</em>: Mon, 29 Jul 2013 09:54:01 +0200</li>
<li><em>Cc</em>: Petr Pudl&#xE1;k &lt;<a href="mailto:notifications%40github.com">notifications@github.com</a>&gt;,  sup-heliotrope/sup &lt;<a href="mailto:sup%40noreply.github.com">sup@noreply.github.com</a>&gt;, Sup developer discussion &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>In-reply-to</em>: &lt;sup-heliotrope/sup/issues/113/21703944@github.com&gt;</li>
<li><em>References</em>: &lt;sup-heliotrope/sup/issues/113@github.com&gt; &lt;sup-heliotrope/sup/issues/113/21703944@github.com&gt;</li>
<li><em>User-agent</em>: Mozilla/5.0 (X11; Linux x86_64; rv:17.0) Gecko/20130625 Thunderbird/17.0.7</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Hi Petr,

Take a look at Horacio's work, he has gotten pretty far doing just that!
But some of the label stuff can be very slow for large volumes atm.

His gmail.rb is well-written and relatively easy to understand:
<a  rel="nofollow" href="https://github.com/hsanson/sup/tree/gmail_source">https://github.com/hsanson/sup/tree/gmail_source</a>

His last message to sup-devel:
<a  rel="nofollow" href="http://rubyforge.org/pipermail/sup-devel/2013-July/001415.html">http://rubyforge.org/pipermail/sup-devel/2013-July/001415.html</a>

Also, feel free to sign up to the devel mailing list:
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>

or the users list, sup-talk: <a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-talk">http://rubyforge.org/mailman/listinfo/sup-talk</a>

Regards, Gaute

On 29. juli 2013 09:44, Petr Pudl&#xE1;k wrote:
&gt; Thanks for help. To clarify, my aim is to use sup with GMail on 
&gt; multiple computers with locally cached messages. For this to work 
&gt; correctly I need to synchronize labels back to GMail. Since this 
&gt; seems problematic with maildir, my idea is to:
&gt; 
&gt; - Store emails in a SQLite database. This way I'll get ACID 
&gt; properties for free, as well as the possibility to add additional 
&gt; information to messages, such as labels. Another bonus are simple 
&gt; backups - everything is in one file. - Write a simple GMail-IMAP 
&gt; synchronization tool that only downloads messages from _All mail_ to 
&gt; the database and synchronizes labels back using [GMail 
&gt; extensions](<a  rel="nofollow" href="https://developers.google.com/gmail/imap_extensions#special-use_extension_of_the_list_command">https://developers.google.com/gmail/imap_extensions#special-use_extension_of_the_list_command</a>).
&gt;
&gt; 
(There could be some time limit like &quot;download only messages newer
&gt; than 1 year or so.) - Modify sup so that it can use this SQLite
&gt; store and store (or copy) labels into it.
&gt; 
&gt; This also solves the awkward intermediate step when using
&gt; OfflineIMAP that labels are first converted into IMAP folders,
&gt; downloaded locally to multiple folders and then again converted to
&gt; labels for sup (and sup needs to check multiple folders). Using
&gt; instead one big folder that understand labels seems much cleaner.
&gt; 
&gt; (Perhaps it would be worth to store GMail thread ID too?)
&gt; 
&gt; --- Reply to this email directly or view it on GitHub: 
&gt; <a  rel="nofollow" href="https://github.com/sup-heliotrope/sup/issues/113#issuecomment-21703944">https://github.com/sup-heliotrope/sup/issues/113#issuecomment-21703944</a>
&gt;
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00333.html">We should get ready for sup 0.14</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00145.html">Re: [sup-devel] Gmail source sync back.</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00333.html">We should get ready for sup 0.14</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00325.html">[sup-devel] Xapian 1.2.15 dependency causes issues on Ubuntu 13.04</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00207"><strong>Date</strong></a></li>
<li><a href="threads.html#00207"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
