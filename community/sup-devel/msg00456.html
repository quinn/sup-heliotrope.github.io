<!-- MHonArc v2.6.18 -->
<!--X-Subject: [sup&#45;devel] new branch: keybindings -->
<!--X-From-R13: Dvpu Znar <eynarNpyho.pp.pzh.rqh> -->
<!--X-Date: Thu, 27 Jan 2011 20:26:04 &#45;0800 (PST) -->
<!--X-Message-Id: 1296187729&#45;sup&#45;7405@zyrg.net -->
<!--X-Content-Type: text/plain -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>[sup-devel] new branch: keybindings</title>
<link rev="made" href="mailto:rlane@club.cc.cmu.edu">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00462.html">Date Prev</a>][<a href="msg00659.html">Date Next</a>][<a href="msg00462.html">Thread Prev</a>][<a href="msg00480.html">Thread Next</a>][<a href="maillist.html#00456">Date Index</a>][<a href="threads.html#00456">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>[sup-devel] new branch: keybindings</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: sup-devel &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: [sup-devel] new branch: keybindings</li>
<li><em>From</em>: Rich Lane &lt;<a href="mailto:rlane%40club.cc.cmu.edu">rlane@club.cc.cmu.edu</a>&gt;</li>
<li><em>Date</em>: Thu, 27 Jan 2011 23:26:38 -0500</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a></li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a></li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-devel">http://rubyforge.org/pipermail/sup-devel</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=help">mailto:sup-devel-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: Sup developer discussion &lt;sup-devel.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-devel@rubyforge.org">mailto:sup-devel@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=subscribe">mailto:sup-devel-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-devel">http://rubyforge.org/mailman/options/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=unsubscribe">mailto:sup-devel-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>Reply-to</em>: Sup developer discussion &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/git</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>This branch makes the keybindings hook more useful. It moves the global
keymap into a new GlobalMode that all others inherit from. This lets
you write the same code to make a global keybinding as for a
mode-specific one:

class Redwood::GlobalMode
  keymap.add! :list_starred, &quot;List all starred threads&quot;, &quot;s&quot;

  def list_starred
    SearchResultsMode.spawn_from_query &quot;is:starred&quot;
  end
end

I got rid of the &quot;modes&quot; local since I think it's better to just reopen
the class with normal Ruby syntax. The keybindings hook is now exactly
like the startup hook but with the O-k keybinding to reload it.

This branch also makes it easier to write keybindings by catching and
displaying exceptions from any keybinding, including builtin Sup ones.
Masking Sup bugs isn't the goal (there's still a backtrace and bug
report instructions) but the user experience is much better than losing
a half-composed email.

I've added some of my own keybindings (not using GlobalMode yet) to the
wiki: <a  rel="nofollow" href="http://sup.rubyforge.org/wiki/wiki.pl?CustomizingKeys">http://sup.rubyforge.org/wiki/wiki.pl?CustomizingKeys</a>
_______________________________________________
Sup-devel mailing list
Sup-devel@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00480" href="msg00480.html">Re: [sup-devel] new branch: keybindings</a></strong>
<ul><li><em>From:</em> Gaute Hope &lt;eg@gaute.vetsj.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00462.html">Re: [sup-devel] sup dies when gpgme not present</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00659.html">Re: [sup-devel] call for new maintainers</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00462.html">Re: [sup-devel] sup dies when gpgme not present</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00480.html">Re: [sup-devel] new branch: keybindings</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00456"><strong>Date</strong></a></li>
<li><a href="threads.html#00456"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
