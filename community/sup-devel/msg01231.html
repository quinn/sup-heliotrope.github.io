<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;devel] [issue64] Crash on sup start -->
<!--X-From-R13: Freb Fvyhf <grebNgvyhf.arg> -->
<!--X-Date: Mon, 8 Feb 2010 23:20:58 &#45;0800 (PST) -->
<!--X-Message-Id: 1265699020&#45;sup&#45;3244@tilus.net -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1265688194.03.0.035958787068.issue64@masanjin.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-devel] [issue64] Crash on sup start</title>
<link rev="made" href="mailto:tero@tilus.net">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg01405.html">Date Prev</a>][<a href="msg01329.html">Date Next</a>][Thread Prev][<a href="msg01172.html">Thread Next</a>][<a href="maillist.html#01231">Date Index</a>][<a href="threads.html#01231">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-devel] [issue64] Crash on sup start</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: anonymous &lt;<a href="mailto:sup-bugs%40masanjin.net">sup-bugs@masanjin.net</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-devel] [issue64] Crash on sup start</li>
<li><em>From</em>: Tero Tilus &lt;<a href="mailto:tero%40tilus.net">tero@tilus.net</a>&gt;</li>
<li><em>Date</em>: Tue, 09 Feb 2010 09:16:34 +0200</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a></li>
<li><em>Cc</em>: sup-devel &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg01405.html">1265688194.03.0.035958787068.issue64@masanjin.net</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-devel">http://rubyforge.org/pipermail/sup-devel</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=help">mailto:sup-devel-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: Sup developer discussion &lt;sup-devel.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-devel@rubyforge.org">mailto:sup-devel@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=subscribe">mailto:sup-devel-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-devel">http://rubyforge.org/mailman/options/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=unsubscribe">mailto:sup-devel-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg01405.html">1265688194.03.0.035958787068.issue64@masanjin.net</a>&gt;</li>
<li><em>Reply-to</em>: Sup developer discussion &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/git</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>anonymous, 2010-02-09 06:03:
&gt; sup crashed after I sent an email, and won't start anymore.

I expect the exception log is the failing start?  Index seems to be in
inconsistent state.

Could you describe in more detail how exactly sup crashed after
sending mail.  When exactly it crashed?  What did it say?

You can try to get back on your feet by recreating your index.  Try
creating sup-dump (back up index) first so that you can preserve
labels.  If that doesn't work, you unfortunately can't preserve your
message states.  But don't throw your old index away just yet, before
sup-sync do cd ~/.sup/; mv xapian xapian.bak .  We might find another
way to recover.

Quoting from <a  rel="nofollow" href="http://sup.rubyforge.org/FAQ.txt">http://sup.rubyforge.org/FAQ.txt</a>

Q: How do I back up my index?
A: Since the contents of the messages are recoverable from their
   sources using sup-sync, all you need to back up is the message
   state. To do this, simply run:
      sup-dump &gt; &lt;dumpfile&gt;
   This will save all message state in a big text file, which you
   should probably compress.

Q: How do I restore the message state I saved in my state dump?
A: Run:
     sup-sync [&lt;source&gt;+] --restored --restore &lt;dumpfile&gt;
   where &lt;dumpfile&gt; was created as above.

-- 
Tero Tilus ## 050 3635 235 ## <a  rel="nofollow" href="http://tero.tilus.net/">http://tero.tilus.net/</a>
_______________________________________________
Sup-devel mailing list
Sup-devel@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="01405" href="msg01405.html">[sup-devel] [issue64] Crash on sup start</a></strong>
<ul><li><em>From:</em> anonymous &lt;sup-bugs@masanjin.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg01405.html">[sup-devel] [issue64] Crash on sup start</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg01329.html">Re: [sup-devel] [issue64] Crash on sup start</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg01172.html">Re: [sup-talk] [PATCH] If we have a COLUMNS environment variable,	wrap to that instead of 80.</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#01231"><strong>Date</strong></a></li>
<li><a href="threads.html#01231"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
