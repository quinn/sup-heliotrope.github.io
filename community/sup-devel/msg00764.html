<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;devel] really high wakeup count in powertop -->
<!--X-From-R13: Quevf [nfba <puevf.znfbaNbenpyr.pbz> -->
<!--X-Date: Wed, 10 Nov 2010 12:19:28 &#45;0800 (PST) -->
<!--X-Message-Id: 1289420219&#45;sup&#45;8511@think -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 1289349454&#45;sup&#45;1015@think -->
<!--X-Reference: 1289399902&#45;sup&#45;201@think -->
<!--X-Reference: 1289414078&#45;sup&#45;6701@masanjin.net -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-devel] really high wakeup count in powertop</title>
<link rev="made" href="mailto:chris.mason@oracle.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00732.html">Date Prev</a>][<a href="msg00411.html">Date Next</a>][<a href="msg00732.html">Thread Prev</a>][<a href="msg00756.html">Thread Next</a>][<a href="maillist.html#00764">Date Index</a>][<a href="threads.html#00764">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-devel] really high wakeup count in powertop</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: William Morgan &lt;<a href="mailto:wmorgan-sup%40masanjin.net">wmorgan-sup@masanjin.net</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-devel] really high wakeup count in powertop</li>
<li><em>From</em>: Chris Mason &lt;<a href="mailto:chris.mason%40oracle.com">chris.mason@oracle.com</a>&gt;</li>
<li><em>Date</em>: Wed, 10 Nov 2010 15:18:58 -0500</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a></li>
<li><em>Cc</em>: sup-devel &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a></li>
<li><em>In-reply-to</em>: &lt;<a href="msg00732.html">1289414078-sup-6701@masanjin.net</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-devel">http://rubyforge.org/pipermail/sup-devel</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=help">mailto:sup-devel-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: Sup developer discussion &lt;sup-devel.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-devel@rubyforge.org">mailto:sup-devel@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=subscribe">mailto:sup-devel-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-devel">http://rubyforge.org/mailman/options/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=unsubscribe">mailto:sup-devel-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;1289349454-sup-1015@think&gt; &lt;1289399902-sup-201@think&gt;	&lt;<a href="msg00732.html">1289414078-sup-6701@masanjin.net</a>&gt;</li>
<li><em>Reply-to</em>: Sup developer discussion &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a></li>
<li><em>User-agent</em>: Sup/git</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>Excerpts from William Morgan's message of 2010-11-10 13:35:41 -0500:
&gt; Reformatted excerpts from Chris Mason's message of 2010-11-10:
&gt; &gt; I patched up ruby to poll every 500ms and things seem to work.  Not
&gt; &gt; sure why the ruby developers didn't just change the timeout, but
&gt; &gt; chances are good they have a real reason.
&gt; 
&gt; Yeah, the last time someone investigated this, they decided it was a
&gt; Ruby issue as well. Keep us informed if that patch gets applied. You
&gt; could also try 1.9.2 for kicks.

The 500ms patch apparently isn't good because it limits how often ruby
can switch between threads.  This seems strange to me, because the
kernel should be scheduling the threads, so I'll ask again.

At any rate, it did trigger some discussion and doesn't seem to be fixed
yet in any ruby version.

(For sup uses, 500ms works just fine, and that's my only ruby app).

-chris
_______________________________________________
Sup-devel mailing list
Sup-devel@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00430" href="msg00430.html">[sup-devel] really high wakeup count in powertop</a></strong>
<ul><li><em>From:</em> Chris Mason &lt;chris.mason@ORACLE.COM&gt;</li></ul></li>
<li><strong><a name="00459" href="msg00459.html">Re: [sup-devel] really high wakeup count in powertop</a></strong>
<ul><li><em>From:</em> Chris Mason &lt;chris.mason@oracle.com&gt;</li></ul></li>
<li><strong><a name="00732" href="msg00732.html">Re: [sup-devel] really high wakeup count in powertop</a></strong>
<ul><li><em>From:</em> William Morgan &lt;wmorgan-sup@masanjin.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00732.html">Re: [sup-devel] really high wakeup count in powertop</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00411.html">Re: [sup-devel] [PATCH] Converted crypto to use the gpgme gem</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00732.html">Re: [sup-devel] really high wakeup count in powertop</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00756.html">[sup-devel] searching by message instead of thread</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00764"><strong>Date</strong></a></li>
<li><a href="threads.html#00764"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
