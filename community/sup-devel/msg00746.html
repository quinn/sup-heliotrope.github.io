<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;devel] Cannot query Japanese characters -->
<!--X-From-R13: Vbenpvb Enafba <ufnafbaNtznvy.pbz> -->
<!--X-Date: Sun, 1 May 2011 10:50:20 &#45;0700 (PDT) -->
<!--X-Message-Id: BANLkTi=ObuZiHWGs7Mtvh8J5k4J3KTxgMA@mail.gmail.com -->
<!--X-Content-Type: text/plain -->
<!--X-Reference: 201104251023.19659.hsanson@gmail.com -->
<!--X-Reference: 1303793294&#45;sup&#45;688@masanjin.net -->
<!--X-Reference: 1304052708&#45;sup&#45;4240@masanjin.net -->
<!--X-Reference: BANLkTim9PigP91LaDQ6UG2_prxncYv1zEA@mail.gmail.com -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-devel] Cannot query Japanese characters</title>
<link rev="made" href="mailto:hsanson@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00515.html">Date Prev</a>][<a href="msg00644.html">Date Next</a>][<a href="msg00515.html">Thread Prev</a>][<a href="msg00747.html">Thread Next</a>][<a href="maillist.html#00746">Date Index</a>][<a href="threads.html#00746">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-devel] Cannot query Japanese characters</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Sup developer discussion &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-devel] Cannot query Japanese characters</li>
<li><em>From</em>: Horacio Sanson &lt;<a href="mailto:hsanson%40gmail.com">hsanson@gmail.com</a>&gt;</li>
<li><em>Date</em>: Mon, 2 May 2011 00:46:52 +0900</li>
<li><em>Authentication-results</em>: mx.google.com; spf=pass (google.com: domain of <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a> designates 205.234.109.19 as permitted sender) smtp.mail=<a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a>; dkim=neutral (body hash did not verify) header.i=@gmail.com</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Delivered-to</em>: <a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed; d=gmail.com; s=gamma;	h=domainkey-signature:mime-version:in-reply-to:references:date	:message-id:subject:from:to:content-type:content-transfer-encoding;	bh=a0lS+k5ljzHmpu4C+6axIvBcF9qh4c4eeI3VytuLlxc=;	b=urfOl3Fc6a52fptbChdcODEQaQo0CFRBAJFmM2ouWV/tPqNKBwoB6jgcxxRJZvhnQk	iN9AGWQoVi3Gphe9ZdNLK1tRgubXoE4i1KqAKSN4jCE+V6Zn+wMKjsQ2BkGjDdPRiBBi	ES4ndDOtMAItHhzaDlKSmhbKcPvLvC7fUYWn8=</li>
<li><em>Domainkey-signature</em>: a=rsa-sha1; c=nofws; d=gmail.com; s=gamma;	h=mime-version:in-reply-to:references:date:message-id:subject:from:to	:content-type:content-transfer-encoding;	b=fRq4yY8gAPbV+jYmdUKbq7ib/4AhZRl45YUjaQ7jfLYTn2vwmCz3jZ5XtMeGgYBVfC	g8xruBYwvs4OpzA6eSXuIKq/1F5CawI7v9rvaLeF6QaR1x+ok+EzWImYeiIkAZTnzh2A	3nSi5VUCBssCQrxcf/uGwNNhVxqTiV3BytKs4=</li>
<li><em>In-reply-to</em>: &lt;<a href="msg00515.html">BANLkTim9PigP91LaDQ6UG2_prxncYv1zEA@mail.gmail.com</a>&gt;</li>
<li><em>List-archive</em>: &lt;<a href="http://rubyforge.org/pipermail/sup-devel">http://rubyforge.org/pipermail/sup-devel</a>&gt;</li>
<li><em>List-help</em>: &lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=help">mailto:sup-devel-request@rubyforge.org?subject=help</a>&gt;</li>
<li><em>List-id</em>: Sup developer discussion &lt;sup-devel.rubyforge.org&gt;</li>
<li><em>List-post</em>: &lt;<a href="mailto:sup-devel@rubyforge.org">mailto:sup-devel@rubyforge.org</a>&gt;</li>
<li><em>List-subscribe</em>: &lt;<a href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=subscribe">mailto:sup-devel-request@rubyforge.org?subject=subscribe</a>&gt;</li>
<li><em>List-unsubscribe</em>: &lt;<a href="http://rubyforge.org/mailman/options/sup-devel">http://rubyforge.org/mailman/options/sup-devel</a>&gt;,	&lt;<a href="mailto:sup-devel-request@rubyforge.org?subject=unsubscribe">mailto:sup-devel-request@rubyforge.org?subject=unsubscribe</a>&gt;</li>
<li><em>References</em>: &lt;<a href="msg00765.html">201104251023.19659.hsanson@gmail.com</a>&gt;	&lt;<a href="msg00613.html">1303793294-sup-688@masanjin.net</a>&gt;	&lt;<a href="msg00546.html">1304052708-sup-4240@masanjin.net</a>&gt;	&lt;<a href="msg00515.html">BANLkTim9PigP91LaDQ6UG2_prxncYv1zEA@mail.gmail.com</a>&gt;</li>
<li><em>Reply-to</em>: Sup developer discussion &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Sender</em>: <a href="mailto:sup-devel-bounces%40rubyforge.org">sup-devel-bounces@rubyforge.org</a></li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>I also tried with ruby 1.8 and heliotrope does not crash but searching
any Japanese word returns no matches even for search terms I now have
matches.

And by the way the installation instructions should mention that for
ruby 1.8 we also need to install the json gem or heliotrope won't
start.

regards,
Horacio

On Mon, May 2, 2011 at 12:35 AM, Horacio Sanson &lt;hsanson@gmail.com&gt; wrote:
&gt; Installed whistelpig 0.6 but now I get a different error that looks
&gt; similar to the turnsole problem. Below the backtrace:
&gt;
&gt; <a  rel="nofollow" href="http://localhost:8042/search?q=primo">http://localhost:8042/search?q=primo</a> -&gt; /search?q=%7Einbox&amp;start=0&amp;num=20
&gt; 127.0.0.1 - - [02/May/2011 00:31:58] &quot;GET /favicon.ico HTTP/1.1&quot; 404 447 0.0008
&gt; localhost - - [02/May/2011:00:31:58 JST] &quot;GET /favicon.ico HTTP/1.1&quot; 404 447
&gt; - -&gt; /favicon.ico
&gt; search(body:&quot;&#x4F1A;&quot;, 0, 20) took 0.0ms
&gt; Encoding::CompatibilityError - incompatible character encodings: UTF-8
&gt; and ASCII-8BIT:
&gt; &#xA0;bin/heliotrope-server:154:in `block in &lt;class:HeliotropeServer&gt;'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:1152:in `call'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:1152:in
&gt; `block in compile!'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:724:in
&gt; `instance_eval'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:724:in `route_eval'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:708:in
&gt; `block (2 levels) in route!'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:758:in
&gt; `block in process_route'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:755:in `catch'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:755:in
&gt; `process_route'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:707:in
&gt; `block in route!'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:706:in `each'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:706:in `route!'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:843:in `dispatch!'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:644:in
&gt; `block in call!'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:808:in
&gt; `instance_eval'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:808:in
&gt; `block in invoke'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:808:in `catch'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:808:in `invoke'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:644:in `call!'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/base.rb:629:in `call'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/rack-1.2.2/lib/rack/head.rb:9:in `call'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/sinatra-1.2.5/lib/sinatra/showexceptions.rb:21:in
&gt; `call'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/rack-1.2.2/lib/rack/lint.rb:48:in `_call'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/rack-1.2.2/lib/rack/lint.rb:36:in `call'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/rack-1.2.2/lib/rack/showexceptions.rb:24:in `call'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/rack-1.2.2/lib/rack/commonlogger.rb:18:in `call'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/rack-1.2.2/lib/rack/content_length.rb:13:in `call'
&gt; &#xA0;/var/lib/gems/1.9.1/gems/rack-1.2.2/lib/rack/handler/webrick.rb:52:in `service'
&gt; &#xA0;/usr/lib/ruby/1.9.1/webrick/httpserver.rb:111:in `service'
&gt; &#xA0;/usr/lib/ruby/1.9.1/webrick/httpserver.rb:70:in `run'
&gt; &#xA0;/usr/lib/ruby/1.9.1/webrick/server.rb:183:in `block in start_thread'
&gt; 127.0.0.1 - - [02/May/2011 00:32:09] &quot;GET /search?q=%E4%BC%9A
&gt; HTTP/1.1&quot; 500 89861 0.0228
&gt; localhost - - [02/May/2011:00:32:09 JST] &quot;GET /search?q=%E4%BC%9A
&gt; HTTP/1.1&quot; 500 89861
&gt; <a  rel="nofollow" href="http://localhost:8042/search?q=%7Einbox&amp;start=0&amp;num=20">http://localhost:8042/search?q=%7Einbox&amp;start=0&amp;num=20</a> -&gt; /search?q=%E4%BC%9A
&gt; 127.0.0.1 - - [02/May/2011 00:32:09] &quot;GET /favicon.ico HTTP/1.1&quot; 404 447 0.0009
&gt; localhost - - [02/May/2011:00:32:09 JST] &quot;GET /favicon.ico HTTP/1.1&quot; 404 447
&gt; - -&gt; /favicon.ico
&gt;
&gt; regards,
&gt; Horacio
&gt;
&gt; On Fri, Apr 29, 2011 at 1:52 PM, William Morgan
&gt; &lt;wmorgan-sup@masanjin.net&gt; wrote:
&gt;&gt; Reformatted excerpts from William Morgan's message of 2011-04-26:
&gt;&gt;&gt; Thanks for the bug report on this one too. It's great to have someone
&gt;&gt;&gt; testing this stuff with non-ASCII code. This is a known bug in
&gt;&gt;&gt; Whistlepig and I should be releasing a fix soon.
&gt;&gt;
&gt;&gt; This is fixed in Whistlepig 0.6. Heliotrope should now be fine with
&gt;&gt; utf-8 input. I'm still working on this issue in turnsole.
&gt;&gt;
&gt;&gt; Let me know if you have any more issues!
&gt;&gt; --
&gt;&gt; William &lt;wmorgan-sup@masanjin.net&gt;
&gt;&gt; _______________________________________________
&gt;&gt; Sup-devel mailing list
&gt;&gt; Sup-devel@rubyforge.org
&gt;&gt; <a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>
&gt;&gt;
&gt;
_______________________________________________
Sup-devel mailing list
Sup-devel@rubyforge.org
<a  rel="nofollow" href="http://rubyforge.org/mailman/listinfo/sup-devel">http://rubyforge.org/mailman/listinfo/sup-devel</a>
</pre>
<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00747" href="msg00747.html">Re: [sup-devel] Cannot query Japanese characters</a></strong>
<ul><li><em>From:</em> Horacio Sanson &lt;hsanson@gmail.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00765" href="msg00765.html">[sup-devel] Cannot query Japanese characters</a></strong>
<ul><li><em>From:</em> Horacio Sanson &lt;hsanson@gmail.com&gt;</li></ul></li>
<li><strong><a name="00613" href="msg00613.html">Re: [sup-devel] Cannot query Japanese characters</a></strong>
<ul><li><em>From:</em> William Morgan &lt;wmorgan-sup@masanjin.net&gt;</li></ul></li>
<li><strong><a name="00546" href="msg00546.html">Re: [sup-devel] Cannot query Japanese characters</a></strong>
<ul><li><em>From:</em> William Morgan &lt;wmorgan-sup@masanjin.net&gt;</li></ul></li>
<li><strong><a name="00515" href="msg00515.html">Re: [sup-devel] Cannot query Japanese characters</a></strong>
<ul><li><em>From:</em> Horacio Sanson &lt;hsanson@gmail.com&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00515.html">Re: [sup-devel] Cannot query Japanese characters</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00644.html">[sup-devel] [PATCH] Fix problem with time parsing</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00515.html">Re: [sup-devel] Cannot query Japanese characters</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00747.html">Re: [sup-devel] Cannot query Japanese characters</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00746"><strong>Date</strong></a></li>
<li><a href="threads.html#00746"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
