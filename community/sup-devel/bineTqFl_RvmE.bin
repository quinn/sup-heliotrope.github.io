IyAtKi0gY29kaW5nOiB1dGYtOC0gLSotCgojIGZyb206IGh0dHA6Ly9waWFv
LXRlY2guYmxvZ3Nwb3Qubm8vMjAxMC8wMy9nZXQtb2ZmbGluZWltYXAtd29y
a2luZy13aXRoLW5vbi1hc2NpaS5odG1sI3Jlc291cmNlcwoKaW1wb3J0IGJp
bmFzY2lpCmltcG9ydCBjb2RlY3MKCiMgZW5jb2RpbmcKCmRlZiBtb2RpZmll
ZF9iYXNlNjQgKHMpOgogIHMgPSBzLmVuY29kZSAoJ3V0Zi0xNmJlJykKICBy
ZXR1cm4gYmluYXNjaWkuYjJhX2Jhc2U2NChzKS5yc3RyaXAoJ1xuPScpLnJl
cGxhY2UoJy8nLCAnLCcpCgpkZWYgZG9CNjQoX2luLCByKToKICBpZiBfaW46
CiAgICByLmFwcGVuZCAoJyYlcy0nICUgbW9kaWZpZWRfYmFzZTY0KCcnLmpv
aW4oX2luKSkpCiAgICBkZWwgX2luWzpdCgpkZWYgZW5jb2RlcihzKToKICBy
ID0gW10KICBfaW4gPSBbXQogIGZvciBjIGluIHM6CiAgICBvcmRDID0gb3Jk
KGMpCiAgICBpZiAweDIwIDw9IG9yZEMgPD0gMHgyNSBvciAweDI3IDw9IG9y
ZEMgPD0gMHg3ZToKICAgICAgZG9CNjQoX2luLCByKQogICAgICByLmFwcGVu
ZCAoYykKICAgIGVsaWYgYyA9PSAnJic6CiAgICAgIGRvQjY0KF9pbiwgcikK
ICAgICAgci5hcHBlbmQgKCcmLScpCiAgICBlbHNlOgogICAgICBfaW4uYXBw
ZW5kKGMpCiAgZG9CNjQoX2luLCByKQogIHJldHVybiAoc3RyKCcnLmpvaW4o
cikpLCBsZW4ocykpCgojIGRlY29kaW5nCmRlZiBtb2RpZmllZF91bmJhc2U2
NChzKToKICBiID0gYmluYXNjaWkuYTJiX2Jhc2U2NChzLnJlcGxhY2UoJywn
LCAnLycpICsgJz09PScpCiAgcmV0dXJuIHVuaWNvZGUgKGIsICd1dGYtMTZi
ZScpCgpkZWYgZGVjb2RlciAocyk6CiAgciA9IFtdCiAgZGVjb2RlID0gW10K
ICBmb3IgYyBpbiBzOgogICAgaWYgYyA9PSAnJicgYW5kIG5vdCBkZWNvZGU6
CiAgICAgIGRlY29kZS5hcHBlbmQgKCcmJykKICAgIGVsaWYgYyA9PSAnLScg
YW5kIGRlY29kZToKICAgICAgaWYgbGVuKGRlY29kZSkgPT0gMToKICAgICAg
ICByLmFwcGVuZCgnJicpCiAgICAgIGVsc2U6CiAgICAgICAgci5hcHBlbmQo
bW9kaWZpZWRfdW5iYXNlNjQoJycuam9pbihkZWNvZGVbMTpdKSkpCiAgICAg
IGRlY29kZSA9IFtdCiAgICBlbGlmIGRlY29kZToKICAgICAgZGVjb2RlLmFw
cGVuZChjKQogICAgZWxzZToKICAgICAgci5hcHBlbmQoYykKCiAgaWYgZGVj
b2RlOgogICAgci5hcHBlbmQobW9kaWZpZWRfdW5iYXNlNjQoJycuam9pbihk
ZWNvZGVbMTpdKSkpCiAgYmluX3N0ciA9ICcnLmpvaW4ocikKICByZXR1cm4g
KGJpbl9zdHIsIGxlbihzKSkKCmNsYXNzIFN0cmVhbVJlYWRlciAoY29kZWNz
LlN0cmVhbVJlYWRlcik6CiAgZGVmIGRlY29kZSAoc2VsZiwgcywgZXJyb3Jz
PSdzdHJpY3QnKToKICAgIHJldHVybiBkZWNvZGVyKHMpCgpjbGFzcyBTdHJl
YW1Xcml0ZXIgKGNvZGVjcy5TdHJlYW1Xcml0ZXIpOgogIGRlZiBkZWNvZGUg
KHNlbGYsIHMsIGVycm9ycz0nc3RyaWN0Jyk6CiAgICByZXR1cm4gZW5jb2Rl
cihzKQoKZGVmIGltYXA0X3V0Zl83KG5hbWUpOgogIGlmIG5hbWUgPT0gJ2lt
YXA0LXV0Zi03JzoKICAgIHJldHVybiAoZW5jb2RlciwgZGVjb2RlciwgU3Ry
ZWFtUmVhZGVyLCBTdHJlYW1Xcml0ZXIpCgpjb2RlY3MucmVnaXN0ZXIoaW1h
cDRfdXRmXzcpCg==
