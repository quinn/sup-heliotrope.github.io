<!-- MHonArc v2.6.18 -->
<!--X-Subject: Re: [sup&#45;devel] sup 0.15? -->
<!--X-From-R13: Egrira Vhz <fqbguhzNtznvy.pbz> -->
<!--X-Date: Tue, 12 Nov 2013 16:54:29 &#45;0800 (PST) -->
<!--X-Message-Id: 1384303088&#45;sup&#45;6652@luna -->
<!--X-Content-Type: multipart/mixed -->
<!--X-Reference: 1383637745&#45;sup&#45;2758@qwerzila -->
<!--X-Reference: 1384097900&#45;sup&#45;2821@luna -->
<!--X-Reference: 1384112448&#45;sup&#45;9012@qwerzila -->
<!--X-Reference: 1384175088&#45;sup&#45;8928@luna -->
<!--X-Reference: 1384285065&#45;sup&#45;2892@alderaan -->
<!--X-Derived: binALnmIvBoI3.bin -->
<!--X-Head-End-->
<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
        "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<title>Re: [sup-devel] sup 0.15?</title>
<link rev="made" href="mailto:sdothum@gmail.com">
</head>
<body>
<!--X-Body-Begin-->
<!--X-User-Header-->
<!--X-User-Header-End-->
<!--X-TopPNI-->
<hr>
[<a href="msg00380.html">Date Prev</a>][<a href="msg00057.html">Date Next</a>][<a href="msg00380.html">Thread Prev</a>][<a href="msg00370.html">Thread Next</a>][<a href="maillist.html#00288">Date Index</a>][<a href="threads.html#00288">Thread Index</a>]
<!--X-TopPNI-End-->
<!--X-MsgBody-->
<!--X-Subject-Header-Begin-->
<h1>Re: [sup-devel] sup 0.15?</h1>
<hr>
<!--X-Subject-Header-End-->
<!--X-Head-of-Message-->
<ul>
<li><em>To</em>: Eric Weikl &lt;<a href="mailto:eric.weikl%40gmx.net">eric.weikl@gmx.net</a>&gt;</li>
<li><em>Subject</em>: Re: [sup-devel] sup 0.15?</li>
<li><em>From</em>: Steven Hum &lt;<a href="mailto:sdothum%40gmail.com">sdothum@gmail.com</a>&gt;</li>
<li><em>Date</em>: Tue, 12 Nov 2013 19:47:55 -0500</li>
<li><em>Authentication-results</em>: mx.google.com;       spf=pass (google.com: domain of <a href="mailto:sdothum%40gmail.com">sdothum@gmail.com</a> designates 2607:f8b0:4001:c03::234 as permitted sender) smtp.mail=<a href="mailto:sdothum%40gmail.com">sdothum@gmail.com</a>;       dkim=pass header.i=@gmail.com;       dmarc=pass (p=NONE dis=NONE) header.from=gmail.com</li>
<li><em>Cc</em>: Gaute Hope &lt;<a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a>&gt;, sup-devel &lt;<a href="mailto:sup-devel%40rubyforge.org">sup-devel@rubyforge.org</a>&gt;</li>
<li><em>Delivered-to</em>: <a href="mailto:eg%40gaute.vetsj.com">eg@gaute.vetsj.com</a></li>
<li><em>Dkim-signature</em>: v=1; a=rsa-sha256; c=relaxed/relaxed;        d=gmail.com; s=20120113;        h=from:to:cc:subject:in-reply-to:references:date:message-id         :user-agent:content-transfer-encoding:mime-version:content-type;        bh=84rw+RBZNd5wBbiplDKSV0kOwYxm1s+Su9i83dqli4o=;        b=ORMV1GasITxX9X2sLKDbUWCd2biFbkAfFl/Yzuq9Lb2oNXWv/36PbPTDWHcBp5B2cd         7BOWCwSTHerm2oniFzcktPxRBgvsOxLVFRaeCH/u71i/hPDFH0YE8f0zOxmBlZ7bKSil         U7Wsnf7t1C10H5anRgFAGdRAOAyuDf+9gBvDLrWWgbnbIsBaDnyikfxJyw/slUxt2eFG         N5XeO7R7+5xMVezqOsiYrSh11H/uMnIT3yp4z1o0XCUgFE3GgMVZOVSybcMnuN675CYK         opjkVhgk1nP5pD+jxl+c7AFEK5tEhQlg/F8eM4UYYd/39UsbX+JRA+HqCl4WBEcKWICQ         EvRQ==</li>
<li><em>In-reply-to</em>: &lt;1384285065-sup-2892@alderaan&gt;</li>
<li><em>References</em>: &lt;1383637745-sup-2758@qwerzila&gt; &lt;1384097900-sup-2821@luna&gt; &lt;1384112448-sup-9012@qwerzila&gt; &lt;1384175088-sup-8928@luna&gt; &lt;1384285065-sup-2892@alderaan&gt;</li>
<li><em>User-agent</em>: Sup/0.15.0</li>
</ul>
<!--X-Head-of-Message-End-->
<!--X-Head-Body-Sep-Begin-->
<hr>
<!--X-Head-Body-Sep-End-->
<!--X-Body-of-Message-->
<pre>
Hello Eric,

Attached is my startup.rb file. Essentially, it scans my offlineimap 
folder directory for the mail folders (and labels them with their 
folder names -- I use imapfilter to pre-process my incoming mail and 
move my mail to the appropriate folders). If I initialize (rm) the 
xapian database, all mail is initially archived.

Hope this helps. For now, I have simply created an explicit 
sources.yaml file (one to archive all to rebuild the mail database from 
scratch, one with selected archiving to simulate my startup hook) -- so 
sup behaves as before.

Regards,
Steven


Excerpts from Eric Weikl's message of 2013-11-12 14:42:50 -0500:
&gt; Hi Steven,
&gt; 
&gt; On 11/11/2013 14:18:45, Steven Hum wrote:
&gt; &gt; Thanks for pointing me in the right direction. My sources.yaml file was
&gt; &gt; unchanged from sup 0.14.x but only had one source defined in it. I was
&gt; &gt; using a startup.rb hook to scan and define my offlineimap sources and
&gt; &gt; that is where the problem seems to have originated for sup 0.15.0..
&gt; &gt; (due to a possible change to the SourceManager.add_source?)
&gt; &gt; 
&gt; &gt; By eliminating my startup hook and manually defining all my sources, I
&gt; &gt; was able to reinitialize the xapian mail database and all seems to be
&gt; &gt; functioning now.
&gt; &gt; 
&gt; &gt; Guess I will have to poke around to find out why my startup hook 
&gt; &gt; appears to be causing problems.
&gt; 
&gt; Hmm... I'm not aware of any changes that could cause that behavior.
&gt; Could you post your hook? I'd like to make sure we didn't change any
&gt; expected behavior.
&gt; 
&gt; Cheers,
&gt; Eric

-- 
&quot;Truth or die.&quot;

Steven Hum  
5 - 28 Gilmour St  
Ottawa, ON K2P 0N3  
email sdothum@gmail.com  
tel 613.237.9058  
</pre><p><strong>Attachment:
<a href="binALnmIvBoI3.bin" ><tt>startup.rb</tt></a></strong><br>
<em>Description:</em> application/ruby</p>

<!--X-Body-of-Message-End-->
<!--X-MsgBody-End-->
<!--X-Follow-Ups-->
<hr>
<ul><li><strong>Follow-Ups</strong>:
<ul>
<li><strong><a name="00370" href="msg00370.html">Re: [sup-devel] sup 0.15?</a></strong>
<ul><li><em>From:</em> Eric Weikl &lt;eric.weikl@gmx.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-Follow-Ups-End-->
<!--X-References-->
<ul><li><strong>References</strong>:
<ul>
<li><strong><a name="00182" href="msg00182.html">sup 0.15?</a></strong>
<ul><li><em>From:</em> Gaute Hope &lt;eg@gaute.vetsj.com&gt;</li></ul></li>
<li><strong><a name="00056" href="msg00056.html">Re: [sup-devel] sup 0.15?</a></strong>
<ul><li><em>From:</em> Steven Hum &lt;sdothum@gmail.com&gt;</li></ul></li>
<li><strong><a name="00237" href="msg00237.html">Re: [sup-devel] sup 0.15?</a></strong>
<ul><li><em>From:</em> Gaute Hope &lt;eg@gaute.vetsj.com&gt;</li></ul></li>
<li><strong><a name="00341" href="msg00341.html">Re: [sup-devel] sup 0.15?</a></strong>
<ul><li><em>From:</em> Steven Hum &lt;sdothum@gmail.com&gt;</li></ul></li>
<li><strong><a name="00380" href="msg00380.html">Re: [sup-devel] sup 0.15?</a></strong>
<ul><li><em>From:</em> Eric Weikl &lt;eric.weikl@gmx.net&gt;</li></ul></li>
</ul></li></ul>
<!--X-References-End-->
<!--X-BotPNI-->
<ul>
<li>Prev by Date:
<strong><a href="msg00380.html">Re: [sup-devel] sup 0.15?</a></strong>
</li>
<li>Next by Date:
<strong><a href="msg00057.html">A maildir root source: syncing labels with maildirs (imap folders)</a></strong>
</li>
<li>Previous by thread:
<strong><a href="msg00380.html">Re: [sup-devel] sup 0.15?</a></strong>
</li>
<li>Next by thread:
<strong><a href="msg00370.html">Re: [sup-devel] sup 0.15?</a></strong>
</li>
<li>Index(es):
<ul>
<li><a href="maillist.html#00288"><strong>Date</strong></a></li>
<li><a href="threads.html#00288"><strong>Thread</strong></a></li>
</ul>
</li>
</ul>

<!--X-BotPNI-End-->
<!--X-User-Footer-->
<!--X-User-Footer-End-->
</body>
</html>
