From 78a452c8701bec4371e0f361246ecf6413e6148e Mon Sep 17 00:00:00 2001
From: Michael Stapelberg <michael@stapelberg.de>
Date: Fri, 19 Mar 2010 19:52:04 +0100
Subject: [PATCH] Use LC_MESSAGES=C when starting gpg so that the regexps for parsing the output works

---
 lib/sup/crypto.rb |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/lib/sup/crypto.rb b/lib/sup/crypto.rb
index 5ece6d9..a5ce680 100644
--- a/lib/sup/crypto.rb
+++ b/lib/sup/crypto.rb
@@ -194,7 +194,7 @@ private
 
   def run_gpg args, opts={}
     args = HookManager.run("gpg-args", { :args => args }) || args
-    cmd = "#{@cmd} #{args}"
+    cmd = "LC_MESSAGES=C #{@cmd} #{args}"
     if opts[:interactive] && BufferManager.instantiated?
       output_fn = Tempfile.new "redwood.output"
       output_fn.close
-- 
1.6.5

